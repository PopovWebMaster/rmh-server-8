!function(e){function t(t){for(var a,s,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={7:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;i.push([919,0]),n()}([,,,,function(e,t,n){"use strict";var a=n(10),r=n(16),i=n(14),s=n(21),c=n(12),o=n(9),l=n(30),u=n(13),d=n(7),m=n(36),f=n(39),p=n(31),v=n(22),y=n(26),h=n(20);t.a=Object(a.a)({reducer:{userInfo:r.a,spinner:i.a,common:s.a,company:o.a,logsForwardTA:l.a,playReport:u.b,layout:d.a,application:c.a,counters:m.a,currentSubApplication:f.b,schedule:p.b,scheduleResult:v.a,cutEventEditor:y.a,admin:h.a}})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(8),r={COMPANY:"company",COMPANY_AIR:"company/air",PAGE:n.n(a)()({HOME:"home",COMPANY:"company",ADMIN:"admin",AIR_MAIN:"air-main",AIR_SCHEDULE:"air-schedule",AIR_APPLICATION:"air-application",AIR_LAYOUT:"air-layout",AIR_PLAY_REPORT:"air-play-report",AIR_LOGS:"air-logs",ACCESS_IS_CLOSED:"access-is-closed",PAGE_NOT_FOUND:"page-not-found"},"PAGE_NOT_FOUND","page-not-found"),LAYOUT:{KEY_POINTS:"key-points",DAY_EDITOR:"day-editor",EVENTS:"events",BLOCKS:"blocks",CATEGORIES:"categories"},AIR_LAYOUT:{KEY_POINTS:"key-points",DAY_EDITOR:"day-editor",EVENTS:"events",CATEGORIES:"categories"},APPLICATIONS:{CREATE:"create-application"}}},function(e,t,n){"use strict";n.d(t,"q",(function(){return g})),n.d(t,"p",(function(){return E})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return _})),n.d(t,"i",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return D})),n.d(t,"o",(function(){return P})),n.d(t,"n",(function(){return A})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return M}));var a=n(10),r=n(8),i=n.n(r);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e){for(var t=[],n=[],a=[],r={},i=["#000000","#000","#ffffff","#fff"],s=0;s<e.length;s++){var o=e[s],l=o.id,u=o.colorText,d=o.colorBG,m=o.name,f=o.prefix;r[l]=c({},e[s]),-1===t.indexOf(u)&&-1!==i.indexOf(u)&&t.push(u),-1===t.indexOf(d)&&-1!==i.indexOf(u)&&t.push(d),n.push(m),a.push(f)}return{allUsedColors:t,allUsedNames:n,allUsedPrefixes:a,categoryListById:r}};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){for(var t={},n=0;n<e.length;n++){t[e[n].id]=u({},e[n])}return{eventListById:t}};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){for(var t={},n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++){t[e[n][a].id]=f({},e[n][a])}return{gridDayEventsListById:t}},v=n(38),y=Object(a.b)({name:"layout",initialState:{weekKeyPointList:[[],[],[],[],[],[],[]],keyPointsCurrentEventId:null,pointListIsChanged:!1,categoryList:[],categoryListById:{},categoryesIsChanged:!1,allUsedColors:[],allUsedNames:[],allUsedPrefixes:[],eventList:[],eventListById:{},eventsIsChanged:!1,eventsCurrentFilterCategoryId:null,gridCurrentDay:0,gridCurrentDayName:v.b[0],gridDayEventsList:[[],[],[],[],[],[],[]],gridDayEventsListById:{},gridOneDayList:[],gridDayEventsIsChanges:!1,gridEmptySegmentMaxHeightEm:0,gridEmptySegmentMinHeightEm:1.6,dragebleGridEventId:null},reducers:{setWeekKeyPointList:function(e,t){e.weekKeyPointList=t.payload},setKeyPointsCurrentEventId:function(e,t){e.keyPointsCurrentEventId=t.payload},setWeekKeyPointListAsChanged:function(e,t){e.weekKeyPointList=t.payload,e.pointListIsChanged=!0},setPointListIsChanged:function(e,t){e.pointListIsChanged=t.payload},setCategoryesIsChanged:function(e,t){e.categoryesIsChanged=t.payload},setCategoryList:function(e,t){e.categoryList=t.payload;var n=o(t.payload),a=n.allUsedColors,r=n.allUsedNames,i=n.allUsedPrefixes,s=n.categoryListById;e.allUsedColors=a,e.allUsedNames=r,e.allUsedPrefixes=i,e.categoryListById=s},setCategoryListAsChanged:function(e,t){e.categoryList=t.payload,e.categoryesIsChanged=!0;var n=o(t.payload),a=n.allUsedColors,r=n.allUsedNames,i=n.allUsedPrefixes,s=n.categoryListById;e.allUsedColors=a,e.allUsedNames=r,e.allUsedPrefixes=i,e.categoryListById=s},setEventsIsChanged:function(e,t){e.eventsIsChanged=t.payload},setEventList:function(e,t){e.eventList=t.payload;var n=d(t.payload).eventListById;e.eventListById=n},setEventListAsChanged:function(e,t){e.eventList=t.payload;var n=d(t.payload).eventListById;e.eventListById=n,e.eventsIsChanged=!0},setEventsCurrentFilterCategoryId:function(e,t){e.eventsCurrentFilterCategoryId=t.payload},setGridCurrentDay:function(e,t){e.gridCurrentDay=t.payload,e.gridCurrentDayName=v.b[t.payload]},setGridDayEventsIsChanges:function(e,t){e.gridDayEventsIsChanges=t.payload},setGridDayEventsList:function(e,t){e.gridDayEventsList=t.payload;var n=p(t.payload).gridDayEventsListById;e.gridDayEventsListById=n},setGridDayEventsListAsChanged:function(e,t){e.gridDayEventsList=t.payload,e.gridDayEventsIsChanges=!0;var n=p(t.payload).gridDayEventsListById;e.gridDayEventsListById=n},setGridEmptySegmentMaxHeightEm:function(e,t){e.gridEmptySegmentMaxHeightEm=t.payload},setGridEmptySegmentMinHeightEm:function(e,t){e.gridEmptySegmentMinHeightEm=t.payload},setGridOneDayList:function(e,t){e.gridOneDayList=t.payload},setDragebleGridEventId:function(e,t){e.dragebleGridEventId=t.payload}}}),h=y.actions,g=h.setWeekKeyPointList,E=h.setKeyPointsCurrentEventId,b=(h.setPointListIsChanged,h.setWeekKeyPointListAsChanged),O=h.setCategoryesIsChanged,_=h.setCategoryList,C=(h.setCategoryListAsChanged,h.setEventsIsChanged),S=h.setEventList,j=h.setEventListAsChanged,I=h.setEventsCurrentFilterCategoryId,N=h.setGridCurrentDay,L=h.setGridDayEventsIsChanges,T=h.setGridDayEventsList,D=h.setGridDayEventsListAsChanged,P=h.setGridOneDayList,A=h.setGridEmptySegmentMaxHeightEm,w=(h.setGridEmptySegmentMinHeightEm,h.setDragebleGridEventId),M=function(e){return{weekKeyPointList:e.layout.weekKeyPointList,keyPointsCurrentEventId:e.layout.keyPointsCurrentEventId,pointListIsChanged:e.layout.pointListIsChanged,categoryList:e.layout.categoryList,categoryListById:e.layout.categoryListById,categoryesIsChanged:e.layout.categoryesIsChanged,eventList:e.layout.eventList,eventListById:e.layout.eventListById,eventsIsChanged:e.layout.eventsIsChanged,eventsCurrentFilterCategoryId:e.layout.eventsCurrentFilterCategoryId,allUsedColors:e.layout.allUsedColors,allUsedNames:e.layout.allUsedNames,allUsedPrefixes:e.layout.allUsedPrefixes,gridCurrentDay:e.layout.gridCurrentDay,gridCurrentDayName:e.layout.gridCurrentDayName,gridDayEventsList:e.layout.gridDayEventsList,gridDayEventsListById:e.layout.gridDayEventsListById,gridDayEventsIsChanges:e.layout.gridDayEventsIsChanges,gridOneDayList:e.layout.gridOneDayList,gridEmptySegmentMaxHeightEm:e.layout.gridEmptySegmentMaxHeightEm,gridEmptySegmentMinHeightEm:e.layout.gridEmptySegmentMinHeightEm,dragebleGridEventId:e.layout.dragebleGridEventId}};t.a=y.reducer},,function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(10),r=Object(a.b)({name:"company",initialState:{currentCompanyAlias:null,currentCompanyName:null,currentCompanyType:null,companyProgramSystem:null,companyLegalName:"",companyList:[]},reducers:{setCurrentCompanyAlias:function(e,t){e.currentCompanyAlias=t.payload},setCurrentCompanyName:function(e,t){e.currentCompanyName=t.payload},setCompanyList:function(e,t){e.companyList=t.payload},setCurrentCompanyType:function(e,t){e.currentCompanyType=t.payload},setCompanyProgramSystem:function(e,t){e.companyProgramSystem=t.payload},setCompanyLegalName:function(e,t){e.companyLegalName=t.payload}}}),i=r.actions,s=i.setCurrentCompanyAlias,c=i.setCurrentCompanyName,o=i.setCompanyList,l=i.setCurrentCompanyType,u=i.setCompanyProgramSystem,d=i.setCompanyLegalName,m=function(e){return{currentCompanyAlias:e.company.currentCompanyAlias,currentCompanyName:e.company.currentCompanyName,companyList:e.company.companyList,currentCompanyType:e.company.currentCompanyType,companyProgramSystem:e.company.companyProgramSystem,companyLegalName:e.company.companyLegalName}};t.a=r.reducer},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return l}));var a={id:null,colorBG:"#b5b2b2",colorText:"#000000",name:"Не выбрано",prefix:""},r={backgroundColor:"#fff2e4",color:"#e76969",borderColor:"#dfdfdf"},i="Слепой график",s={BLOCK:"block",FILE:"file"},c="Не выбрано",o={EMPTY:"empty",COMPLETED:"completed"},l=5},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"i",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return O})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"p",(function(){return j})),n.d(t,"n",(function(){return I})),n.d(t,"r",(function(){return N})),n.d(t,"s",(function(){return L})),n.d(t,"q",(function(){return T})),n.d(t,"b",(function(){return D}));var a=n(8),r=n.n(a),i=n(10);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(i.b)({name:"application",initialState:{applicationList:[],applicationById:{},currentApplicationId:null,currentCategoryIdOfListFilter:null,currentEventIdOfListFilter:null,currentAppName:"",currentAppCategoryId:null,currentAppEventId:null,currentAppNum:null,currentAppManagerNotes:"",currentAppManagerId:null,currentSubAppList:[],currentSubAppListById:{},envIsOpen:!1,currentAppIsChanged:!1,managersById:{},managersList:[],currentManagerId:null,filteredList:[],filterCategoryList:[],filterEventList:[]},reducers:{setApplicationList:function(e,t){e.applicationList=t.payload;var n=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=a.id;a.manager;t[r]=c({},e[n])}return{applicationById:t}}(t.payload).applicationById;e.applicationById=n},setManagersList:function(e,t){for(var n=t.payload,a={},r=0;r<n.length;r++){var i=n[r].id;a[i]||(a[i]=l({},n[r]))}e.managersById=a,e.managersList=n},setCurrentApplicationId:function(e,t){e.currentApplicationId=t.payload},setCurrentCategoryIdOfListFilter:function(e,t){e.currentCategoryIdOfListFilter=t.payload},setCurrentEventIdOfListFilter:function(e,t){e.currentEventIdOfListFilter=t.payload},setCurrentAppName:function(e,t){e.currentAppName=t.payload},setCurrentAppCategoryId:function(e,t){e.currentAppCategoryId=t.payload},setCurrentAppNum:function(e,t){e.currentAppNum=t.payload},setCurrentSubAppList:function(e,t){e.currentSubAppList=t.payload;for(var n={},a=0;a<t.payload.length;a++){n[t.payload[a].id]=l({},t.payload[a])}e.currentSubAppListById=n},setCurrentAppManagerNotes:function(e,t){e.currentAppManagerNotes=t.payload},setCurrentAppManagerId:function(e,t){e.currentAppManagerId=t.payload},setCurrentAppIsChanged:function(e,t){e.currentAppIsChanged=t.payload},setCurrentAppEventId:function(e,t){e.currentAppEventId=t.payload},setEnvIsOpen:function(e,t){e.envIsOpen=t.payload},setCurrentManagerId:function(e,t){e.currentManagerId=t.payload},setFilteredList:function(e,t){e.filteredList=t.payload},setFilterCategoryList:function(e,t){e.filterCategoryList=t.payload},setFilterEventList:function(e,t){e.filterEventList=t.payload}}}),d=u.actions,m=d.setApplicationList,f=d.setCurrentApplicationId,p=d.setCurrentCategoryIdOfListFilter,v=d.setCurrentEventIdOfListFilter,y=d.setManagersList,h=d.setCurrentAppName,g=d.setCurrentAppCategoryId,E=d.setCurrentAppEventId,b=d.setCurrentAppNum,O=d.setCurrentSubAppList,_=d.setCurrentAppManagerNotes,C=d.setCurrentAppManagerId,S=d.setCurrentAppIsChanged,j=d.setEnvIsOpen,I=d.setCurrentManagerId,N=d.setFilterEventList,L=d.setFilteredList,T=d.setFilterCategoryList,D=function(e){return{applicationList:e.application.applicationList,applicationById:e.application.applicationById,currentApplicationId:e.application.currentApplicationId,currentCategoryIdOfListFilter:e.application.currentCategoryIdOfListFilter,currentEventIdOfListFilter:e.application.currentEventIdOfListFilter,currentAppName:e.application.currentAppName,currentAppCategoryId:e.application.currentAppCategoryId,currentAppEventId:e.application.currentAppEventId,currentAppNum:e.application.currentAppNum,currentAppManagerNotes:e.application.currentAppManagerNotes,currentAppManagerId:e.application.currentAppManagerId,currentSubAppList:e.application.currentSubAppList,currentSubAppListById:e.application.currentSubAppListById,currentAppIsChanged:e.application.currentAppIsChanged,envIsOpen:e.application.envIsOpen,managersById:e.application.managersById,managersList:e.application.managersList,currentManagerId:e.application.currentManagerId,filteredList:e.application.filteredList,filterCategoryList:e.application.filterCategoryList,filterEventList:e.application.filterEventList}};t.a=u.reducer},function(e,t,n){"use strict";n.d(t,"s",(function(){return l})),n.d(t,"u",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"q",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"v",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return E})),n.d(t,"t",(function(){return b})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return _})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return I})),n.d(t,"r",(function(){return N})),n.d(t,"g",(function(){return L})),n.d(t,"c",(function(){return T}));var a=n(8),r=n.n(a),i=n(10);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var c=Object(i.b)({name:"playReport",initialState:{searchFocus:!1,searchValue:"",searchDate:"",searchPeriod:null,calendarIsOpen:!1,playReportList:{},month:0,monthTitle:"",year:0,monthCalendar:[],min_year:0,min_month:0,max_year:0,max_month:0,entireList:[],filteredList:[],dateListSelected:null,backligthPrefixList:{},detailDataWindow_isOpen:!1,detailDataIsActive:!1,resultPointsSec:[]},reducers:{setSearchFocus:function(e,t){e.searchFocus=t.payload},setSearchValue:function(e,t){e.searchValue=t.payload},setSearchDate:function(e,t){e.searchDate=t.payload},setCalendarIsOpen:function(e,t){e.calendarIsOpen=t.payload},setPlayReportList:function(e,t){e.playReportList=t.payload},setMonth:function(e,t){e.month=t.payload},setMonthTitle:function(e,t){e.monthTitle=t.payload},setYear:function(e,t){e.year=t.payload},setMonthCalendar:function(e,t){e.monthCalendar=t.payload},setMinYear:function(e,t){e.min_year=t.payload},setMaxYear:function(e,t){e.max_year=t.payload},setMaxMonth:function(e,t){e.max_month=t.payload},setMinMonth:function(e,t){e.min_month=t.payload},setSearchPeriod:function(e,t){e.searchPeriod=t.payload},setEntireList:function(e,t){e.entireList=t.payload},setFilteredList:function(e,t){e.filteredList=t.payload},setDateListSelected:function(e,t){e.dateListSelected=t.payload},setBackligthPrefixList:function(e,t){e.backligthPrefixList=t.payload},addBackligthPrefix:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.backligthPrefixList);n[t.payload]=!1,e.backligthPrefixList=n},setDetailDataWindowIsOpen:function(e,t){e.detailDataWindow_isOpen=t.payload},setResultPointsSec:function(e,t){e.resultPointsSec=t.payload},setDetailDataIsActive:function(e,t){e.detailDataIsActive=t.payload}}}),o=c.actions,l=o.setSearchFocus,u=o.setSearchValue,d=(o.setSearchDate,o.setCalendarIsOpen),m=o.setPlayReportList,f=o.setMonth,p=o.setMonthTitle,v=o.setYear,y=o.setMonthCalendar,h=o.setMinYear,g=o.setMaxYear,E=o.setMaxMonth,b=(o.setMinMonth,o.setSearchPeriod),O=o.setEntireList,_=o.setFilteredList,C=o.setDateListSelected,S=o.addBackligthPrefix,j=o.setBackligthPrefixList,I=o.setDetailDataWindowIsOpen,N=o.setResultPointsSec,L=o.setDetailDataIsActive,T=function(e){return{searchFocus:e.playReport.searchFocus,searchValue:e.playReport.searchValue,searchDate:e.playReport.searchDate,searchPeriod:e.playReport.searchPeriod,calendarIsOpen:e.playReport.calendarIsOpen,playReportList:e.playReport.playReportList,month:e.playReport.month,monthTitle:e.playReport.monthTitle,year:e.playReport.year,monthCalendar:e.playReport.monthCalendar,min_year:e.playReport.min_year,max_year:e.playReport.max_year,max_month:e.playReport.max_month,min_month:e.playReport.min_month,entireList:e.playReport.entireList,filteredList:e.playReport.filteredList,dateListSelected:e.playReport.dateListSelected,backligthPrefixList:e.playReport.backligthPrefixList,detailDataWindow_isOpen:e.playReport.detailDataWindow_isOpen,resultPointsSec:e.playReport.resultPointsSec,detailDataIsActive:e.playReport.detailDataIsActive}};t.b=c.reducer},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(10),r=Object(a.b)({name:"spinner",initialState:{isActive:!1},reducers:{setSpinnerIsActive:function(e,t){e.isActive=t.payload}}}),i=r.actions.setSpinnerIsActive,s=function(e){return{isActive:e.spinner.isActive}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;e>=3600&&(n=Math.floor(e/60/60));var a=e-60*n*60,r=Math.floor(a/60),i=Math.round(a-60*r);return t?[n.toString().padStart(2,"0"),r.toString().padStart(2,"0")].join(":"):[n.toString().padStart(2,"0"),r.toString().padStart(2,"0"),i.toString().padStart(2,"0")].join(":")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(10),r=Object(a.b)({name:"userInfo",initialState:{isAuth:!1,user_id:"",user_name:"",user_email:"",user_position:"",user_company:"",user_accessRights:[],user_companyNamesByAlias:[]},reducers:{setUserData:function(e,t){if(null!==t.payload){var n=t.payload,a=n.isAuth,r=n.email,i=n.id,s=n.name,c=n.position,o=n.company,l=n.accessRights,u=n.companyNamesByAlias;e.isAuth=a,e.user_id=i,e.user_name=s,e.user_email=r,e.user_position=c,e.user_company=o,e.user_accessRights=l,e.user_companyNamesByAlias=u}}}}),i=r.actions.setUserData,s=function(e){return{isAuth:e.userInfo.isAuth,user_id:e.userInfo.user_id,user_name:e.userInfo.user_name,user_email:e.userInfo.user_email,user_position:e.userInfo.user_position,user_company:e.userInfo.user_company,user_accessRights:e.userInfo.user_accessRights,user_companyNamesByAlias:e.userInfo.user_companyNamesByAlias}};t.a=r.reducer},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"l",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(10),r=Object(a.b)({name:"admin",initialState:{companies:[],companiesById:{},defaultProgramSystem:"",defaultCompanyType:"",currentCompanyIsChanged:!1,currentCompanyId:null,currentCompanyName:"",currentCompanyAlias:"",currentCompanyProgramSystem:"",currentCompanyLegalName:"",currentCompanyCity:"",currentCompanyPersonal:[],currentCompanyType:"",userDataById:{}},reducers:{setCompanies:function(e,t){e.companies=t.payload;for(var n={},a=0;a<t.payload.length;a++){n[t.payload[a].company_id]=t.payload[a]}e.companiesById=n},setDefaultProgramSystem:function(e,t){e.defaultProgramSystem=t.payload},setDefaultCompanyType:function(e,t){e.defaultCompanyType=t.payload},setCurrentCompanyId:function(e,t){if(e.currentCompanyId=t.payload,null===t.payload)e.userDataById={};else{for(var n=e.companiesById[t.payload].company_personal,a={},r=0;r<n.length;r++){a[n[r].id]=n[r]}e.userDataById=a}},setCurrentCompanyIsChanged:function(e,t){e.currentCompanyIsChanged=t.payload},setCurrentCompanyName:function(e,t){e.currentCompanyName=t.payload},setCurrentCompanyAlias:function(e,t){e.currentCompanyAlias=t.payload},setCurrentCompanyProgramSystem:function(e,t){e.currentCompanyProgramSystem=t.payload},setCurrentCompanyLegalName:function(e,t){e.currentCompanyLegalName=t.payload},setCurrentCompanyCity:function(e,t){e.currentCompanyCity=t.payload},setCurrentCompanyPersonal:function(e,t){e.currentCompanyPersonal=t.payload},setCurrentCompanyType:function(e,t){e.currentCompanyType=t.payload}}}),i=r.actions,s=i.setCompanies,c=i.setDefaultProgramSystem,o=i.setDefaultCompanyType,l=i.setCurrentCompanyId,u=i.setCurrentCompanyName,d=i.setCurrentCompanyAlias,m=i.setCurrentCompanyProgramSystem,f=i.setCurrentCompanyLegalName,p=i.setCurrentCompanyCity,v=i.setCurrentCompanyPersonal,y=i.setCurrentCompanyIsChanged,h=i.setCurrentCompanyType,g=function(e){return{companies:e.admin.companies,companiesById:e.admin.companiesById,defaultProgramSystem:e.admin.defaultProgramSystem,defaultCompanyType:e.admin.defaultCompanyType,currentCompanyIsChanged:e.admin.currentCompanyIsChanged,currentCompanyId:e.admin.currentCompanyId,currentCompanyName:e.admin.currentCompanyName,currentCompanyAlias:e.admin.currentCompanyAlias,currentCompanyProgramSystem:e.admin.currentCompanyProgramSystem,currentCompanyLegalName:e.admin.currentCompanyLegalName,currentCompanyCity:e.admin.currentCompanyCity,currentCompanyPersonal:e.admin.currentCompanyPersonal,currentCompanyType:e.admin.currentCompanyType,userDataById:e.admin.userDataById}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(10),r=Object(a.b)({name:"common",initialState:{currentPage:null,token:""},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},setToken:function(e,t){e.token=t.payload}}}),i=r.actions,s=i.setCurrentPage,c=i.setToken,o=function(e){return{currentPage:e.common.currentPage,token:e.common.token}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return O})),n.d(t,"o",(function(){return _})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"j",(function(){return I})),n.d(t,"l",(function(){return N})),n.d(t,"b",(function(){return L}));var a=n(8),r=n.n(a),i=n(10),s=n(40),c=function(e,t){var n=t+1;13===n&&(n=1),s.a;var a=new Date(Object(s.a)(e,t,1)),r=function(e,t){return new Date(e,t,0).getDate()}(e,n),i=a.getDay();0===i&&(i=7);for(var c=[],o=r+i,l=!1,u=1,d=1,m=1;m<o+1;m++){var f={day:u,date:null};if(l?(f.date=d,d+=1):m===i&&(l=!0,f.date=d,d+=1),7===u?u=1:u+=1,c.push(f),r<d)break}return c};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(i.b)({name:"scheduleResult",initialState:{calendarMonth:0,calendarYear:0,calendarDate:0,currentDate:0,currentDayNum:0,currentMonth:0,currentYear:0,monthCalendar:[],releaseList:[],releaseListById:{},releaseListByGridEventId:{},scheduleEventsList:[],scheduleEventsListByGridEventId:{},scheduleEventsListIsChanged:!1,dragebleReleaseId:null,dragebleReleaseEventId:null,usedReleasesById:{},infoMessageText:""},reducers:{setCalendarMonth:function(e,t){e.calendarMonth=t.payload},setCalendarYear:function(e,t){e.calendarYear=t.payload},setCalendarDate:function(e,t){e.calendarDate=t.payload},setCurrentDate:function(e,t){e.currentDate=t.payload},setCurrentDayNum:function(e,t){e.currentDayNum=t.payload},setCurrentMonth:function(e,t){e.currentMonth=t.payload},setCurrentYear:function(e,t){e.currentYear=t.payload},setMonthCalendar:function(e,t){var n=t.payload,a=n.year,r=n.month;e.monthCalendar=c(a,r)},setReleaseList:function(e,t){e.releaseList=t.payload},setReleaseListById:function(e,t){e.releaseListById=t.payload},setReleaseListByGridEventId:function(e,t){e.releaseListByGridEventId=t.payload},setScheduleEventsList:function(e,t){e.scheduleEventsList=t.payload;for(var n={},a={},r=0;r<t.payload.length;r++)if(null!==t.payload[r].gridEventId){n[t.payload[r].gridEventId]=l({},t.payload[r]);for(var i=t.payload[r].releases,s=0;s<i.length;s++){a[i[s].id]=!0}}e.scheduleEventsListByGridEventId=n,e.usedReleasesById=a},setScheduleEventsListIsChanged:function(e,t){e.scheduleEventsListIsChanged=t.payload},setDragebleReleaseId:function(e,t){e.dragebleReleaseId=t.payload},setDragebleReleaseEventId:function(e,t){e.dragebleReleaseEventId=t.payload},setUsedReleasesById:function(e,t){e.usedReleasesById=t.payload},setInfoMessageText:function(e,t){e.infoMessageText=t.payload}}}),d=u.actions,m=d.setCalendarMonth,f=d.setCalendarYear,p=d.setCalendarDate,v=d.setCurrentDate,y=d.setCurrentDayNum,h=d.setCurrentMonth,g=d.setCurrentYear,E=d.setMonthCalendar,b=d.setReleaseList,O=d.setReleaseListById,_=d.setReleaseListByGridEventId,C=d.setScheduleEventsList,S=d.setScheduleEventsListIsChanged,j=d.setDragebleReleaseId,I=d.setDragebleReleaseEventId,N=(d.setUsedReleasesById,d.setInfoMessageText),L=function(e){return{calendarMonth:e.scheduleResult.calendarMonth,calendarYear:e.scheduleResult.calendarYear,calendarDate:e.scheduleResult.calendarDate,currentDate:e.scheduleResult.currentDate,currentDayNum:e.scheduleResult.currentDayNum,currentMonth:e.scheduleResult.currentMonth,currentYear:e.scheduleResult.currentYear,monthCalendar:e.scheduleResult.monthCalendar,releaseList:e.scheduleResult.releaseList,releaseListById:e.scheduleResult.releaseListById,releaseListByGridEventId:e.scheduleResult.releaseListByGridEventId,scheduleEventsList:e.scheduleResult.scheduleEventsList,scheduleEventsListByGridEventId:e.scheduleResult.scheduleEventsListByGridEventId,scheduleEventsListIsChanged:e.scheduleResult.scheduleEventsListIsChanged,dragebleReleaseId:e.scheduleResult.dragebleReleaseId,dragebleReleaseEventId:e.scheduleResult.dragebleReleaseEventId,usedReleasesById:e.scheduleResult.usedReleasesById,infoMessageText:e.scheduleResult.infoMessageText}};t.a=u.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(42),r=n.n(a),i=n(8),s=n.n(i),c=n(35),o=n.n(c),l=n(4);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var d=function(e){var t=e.route,n=e.data,a=e.successCallback,i=void 0===a?function(){}:a,c=e.errorCallback,d=void 0===c?function(){}:c,m=!1,f=l.a.getState(),p=f.common,v=f.company,y=p.currentPage,h=v.currentCompanyAlias,g="",E="",b={},O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);O.currentPage=y,O.companyAlias=h,E="".concat("https://rmh-donetsk.ru","/").concat(y,"/").concat(t),document.querySelector('meta[name="csrf-token"]')?(g=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),b={"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":g}):(m=!0,console.error("Токен не найден"));var _=function(){var e=r()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(E,{method:"post",headers:b,credentials:"same-origin",dataType:"json",body:JSON.stringify({_token:g,data:O})});case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:a=e.sent,i(a),e.next=13;break;case 11:_(),d(t);case 13:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(0),_(),console.error("Ошибка : ".concat(e.t0,". При попытке вызвать fetch")),console.error({_token:g,url:E,data:n}),console.log("");case 22:case 23:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();m||_()}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(10),r=Object(a.b)({name:"cutEventEditor",initialState:{editorIsOpen:!1,eventsPartsList:[],eventId:null,eventStyle:{},eventName:"",maxDurationTime:0},reducers:{setEditorIsOpen:function(e,t){e.editorIsOpen=t.payload},setEventsPartsList:function(e,t){e.eventsPartsList=t.payload},setEventId:function(e,t){e.eventId=t.payload},setEventStyle:function(e,t){e.eventStyle=t.payload},setMaxDurationTime:function(e,t){e.maxDurationTime=t.payload},setSutEventData:function(e,t){var n=t.payload,a=n.eventParts,r=n.maxDurationTime,i=n.eventId,s=n.eventStyle,c=n.eventName;e.editorIsOpen=!0,e.eventId=i,e.eventsPartsList=a,e.eventStyle=s,e.maxDurationTime=r,e.eventName=c}}}),i=r.actions,s=(i.setEditorIsOpen,i.setEventsPartsList),c=(i.setEventId,i.setEventStyle,i.setMaxDurationTime,i.setSutEventData),o=function(e){return{editorIsOpen:e.cutEventEditor.editorIsOpen,eventsPartsList:e.cutEventEditor.eventsPartsList,eventId:e.cutEventEditor.eventId,eventStyle:e.cutEventEditor.eventStyle,maxDurationTime:e.cutEventEditor.maxDurationTime,eventName:e.cutEventEditor.eventName}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(2),r=n.n(a),i=n(3),s=n.n(i),c=n(0),o=n.n(c),l=n(1),u=n(7),d=(n(87),function(e){var t=e.isOpen,n=e.setIsOpen,a=e.title,r=void 0===a?"":a,i=e.width,l=void 0===i?"25vw":i,u=e.height,d=void 0===u?"20vh":u,m=e.showCurrentDayName,f=void 0!==m&&m,p=e.children,v=e.gridCurrentDayName,y=Object(c.useState)(0),h=s()(y,2),g=h[0],E=h[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){E(1),clearTimeout(e)}),500)}),[]),o.a.createElement("div",{className:"AlertWindowContainer ".concat(!0===t?"isOpen":"isClose"),style:{opacity:g}},o.a.createElement("div",{className:"AWC_window ".concat(!0===t?"isOpen":"isClose"),style:{width:l,height:d}},o.a.createElement("div",{className:"AWC_window_header"},o.a.createElement("div",{className:"AWC_window_header_title"},o.a.createElement("h2",null,r)),o.a.createElement("div",{className:"AWC_window_header_close"},o.a.createElement("span",{className:"icon-cancel-2",onClick:function(){n(!1)}}))),f?o.a.createElement("div",{className:"AWC_window_body_carrentDay"},o.a.createElement("span",null,v)):"",o.a.createElement("div",{className:f?"AWC_window_body heightShort":"AWC_window_body heightFull"},p)))});function m(e){var t=Object(l.c)(u.b);return o.a.createElement(d,r()({},e,{gridCurrentDayName:t.gridCurrentDayName}))}},,,function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n(10),r=Object(a.b)({name:"logsForwardTA",initialState:{windowLeftWidth:50,windowRightWidth:50,minWidth:20,borderMoverWidtnPx:22,selectedAll:"main",selectedServerForReport:"main",processedListOfLogsMain:[],processedListOfLogsBackup:[],logFileDateMain:null,logFileDateBackup:null,logFileDurationMain:null,logFileDurationBackup:null},reducers:{setWindowLeftWidth:function(e,t){e.windowLeftWidth=t.payload},setWindowRightWidth:function(e,t){e.windowRightWidth=t.payload},setMinWidth:function(e,t){e.minWidth=t.payload},setBorderMoverWidtnPx:function(e,t){e.borderMoverWidtnPx=t.payload},setSelectedAll:function(e,t){e.selectedAll=t.payload},setSelectedServerForReport:function(e,t){e.selectedServerForReport=t.payload},setProcessedListOfLogsMain:function(e,t){e.processedListOfLogsMain=t.payload},setProcessedListOfLogsBackup:function(e,t){e.processedListOfLogsBackup=t.payload},setLogFileDateMain:function(e,t){e.logFileDateMain=t.payload},setLogFileDateBackup:function(e,t){e.logFileDateBackup=t.payload},setLogFileDurationMain:function(e,t){e.logFileDurationMain=t.payload},setLogFileDurationBackup:function(e,t){e.logFileDurationBackup=t.payload}}}),i=r.actions,s=i.setWindowLeftWidth,c=i.setWindowRightWidth,o=(i.setMinWidth,i.setBorderMoverWidtnPx,i.setSelectedAll),l=i.setSelectedServerForReport,u=i.setProcessedListOfLogsMain,d=i.setProcessedListOfLogsBackup,m=i.setLogFileDateMain,f=i.setLogFileDateBackup,p=i.setLogFileDurationMain,v=i.setLogFileDurationBackup,y=function(e){return{windowLeftWidth:e.logsForwardTA.windowLeftWidth,windowRightWidth:e.logsForwardTA.windowRightWidth,minWidth:e.logsForwardTA.minWidth,borderMoverWidtnPx:e.logsForwardTA.borderMoverWidtnPx,selectedAll:e.logsForwardTA.selectedAll,selectedServerForReport:e.logsForwardTA.selectedServerForReport,processedListOfLogsMain:e.logsForwardTA.processedListOfLogsMain,processedListOfLogsBackup:e.logsForwardTA.processedListOfLogsBackup,logFileDateMain:e.logsForwardTA.logFileDateMain,logFileDateBackup:e.logsForwardTA.logFileDateBackup,logFileDurationMain:e.logsForwardTA.logFileDurationMain,logFileDurationBackup:e.logsForwardTA.logFileDurationBackup}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"z",(function(){return o})),n.d(t,"y",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"q",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"r",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return b})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return _})),n.d(t,"g",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"v",(function(){return N})),n.d(t,"u",(function(){return L})),n.d(t,"f",(function(){return T})),n.d(t,"c",(function(){return D}));var a=n(10),r=Object(a.b)({name:"schedule",initialState:{charType:null,releaseName:"",releaseDuration:"",categoryId:null,categoryColorBg:"",categoryColorText:"",categoryName:"",categoryPrefix:"",eventId:null,eventCategoryId:null,eventName:null,eventDurationTime:null,eventNotes:null,eventType:null,periodFrom:"",periodTo:"",allTimePointsList:[],allTimePointsGroupeList:[],dayList:[],allReleaseLength:0,allReleaseDuration:0,gridEventTable:{},isChanged:!1},reducers:{clearAll:function(e,t){e.charType=null,e.releaseName="",e.releaseDuration="",e.categoryId=null,e.categoryColorBg="",e.categoryColorText="",e.categoryName="",e.categoryPrefix="",e.eventId=null,e.eventCategoryId=null,e.eventName=null,e.eventDurationTime=null,e.eventNotes=null,e.eventType=null,e.periodFrom="",e.periodTo="",e.allTimePointsList=[],e.dayList=[],e.gridEventTable={},e.allReleaseLength=0,e.allReleaseDuration=0,e.isChanged=!1},setCharType:function(e,t){e.charType=t.payload},setReleaseName:function(e,t){e.releaseName=t.payload},setReleaseDuration:function(e,t){e.releaseDuration=t.payload},setCategoryId:function(e,t){e.categoryId=t.payload},setCategoryColorBg:function(e,t){e.categoryColorBg=t.payload},setCategoryColorText:function(e,t){e.categoryColorText=t.payload},setCategoryName:function(e,t){e.categoryName=t.payload},setCategoryPrefix:function(e,t){e.categoryPrefix=t.payload},setEventId:function(e,t){e.eventId=t.payload},setEventCategoryId:function(e,t){e.eventCategoryId=t.payload},setEventName:function(e,t){e.eventName=t.payload},setEventDurationTime:function(e,t){e.eventDurationTime=t.payload},setEventNotes:function(e,t){e.eventNotes=t.payload},setEventType:function(e,t){e.eventType=t.payload},setPeriodFrom:function(e,t){e.periodFrom=t.payload},setPeriodTo:function(e,t){e.periodTo=t.payload},setAllTimePointsList:function(e,t){e.allTimePointsList=t.payload},setDayList:function(e,t){e.dayList=t.payload},setAllReleaseLength:function(e,t){e.allReleaseLength=t.payload},setAllReleaseDuration:function(e,t){e.allReleaseDuration=t.payload},setIsChanged:function(e,t){e.isChanged=t.payload},setGridEventTable:function(e,t){e.gridEventTable=t.payload},setAllTimePointsGroupeList:function(e,t){e.allTimePointsGroupeList=t.payload}}}),i=r.actions,s=i.clearAll,c=i.setCharType,o=i.setReleaseName,l=i.setReleaseDuration,u=i.setCategoryId,d=i.setCategoryColorBg,m=i.setCategoryColorText,f=i.setCategoryName,p=i.setCategoryPrefix,v=i.setEventId,y=i.setEventCategoryId,h=i.setEventName,g=i.setEventDurationTime,E=i.setEventNotes,b=i.setEventType,O=i.setPeriodFrom,_=i.setPeriodTo,C=i.setAllTimePointsList,S=i.setDayList,j=i.setAllReleaseLength,I=i.setAllReleaseDuration,N=i.setIsChanged,L=i.setGridEventTable,T=i.setAllTimePointsGroupeList,D=function(e){return{charType:e.schedule.charType,releaseName:e.schedule.releaseName,releaseDuration:e.schedule.releaseDuration,categoryId:e.schedule.categoryId,categoryColorBg:e.schedule.categoryColorBg,categoryColorText:e.schedule.categoryColorText,categoryName:e.schedule.categoryName,categoryPrefix:e.schedule.categoryPrefix,eventId:e.schedule.eventId,eventCategoryId:e.schedule.eventCategoryId,eventName:e.schedule.eventName,eventDurationTime:e.schedule.eventDurationTime,eventNotes:e.schedule.eventNotes,eventType:e.schedule.eventType,periodFrom:e.schedule.periodFrom,periodTo:e.schedule.periodTo,allTimePointsList:e.schedule.allTimePointsList,allTimePointsGroupeList:e.schedule.allTimePointsGroupeList,dayList:e.schedule.dayList,allReleaseLength:e.schedule.allReleaseLength,allReleaseDuration:e.schedule.allReleaseDuration,isChanged:e.schedule.isChanged,gridEventTable:e.schedule.gridEventTable}};t.b=r.reducer},,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(10),r=Object(a.b)({name:"counters",initialState:{currentCounterType:"day",currentCounterCategoryId:null,counterList:[],counterListHours:[]},reducers:{setCurrentCounterType:function(e,t){e.currentCounterType=t.payload},setCurrentCounterCategoryId:function(e,t){e.currentCounterCategoryId=t.payload},setCounterList:function(e,t){e.counterList=t.payload},setCounterListHours:function(e,t){e.counterListHours=t.payload}}}),i=r.actions,s=i.setCurrentCounterType,c=(i.setCurrentCounterCategoryId,i.setCounterList),o=i.setCounterListHours,l=function(e){return{currentCounterType:e.counters.currentCounterType,currentCounterCategoryId:e.counters.currentCounterCategoryId,counterList:e.counters.counterList,counterListHours:e.counters.counterListHours}};t.a=r.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=(n(89),function(e){var t=e.children,n=e.height,a=void 0===n?null:n;return r.a.createElement("div",{className:"scrollContainer",style:null===a?{}:{height:a}},t)});function s(e){return r.a.createElement(i,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a=[{INDEX:0,SHORT_NAME:"Пн",FULL_NAME:"Понедельник"},{INDEX:1,SHORT_NAME:"Вт",FULL_NAME:"Вторник"},{INDEX:2,SHORT_NAME:"Ср",FULL_NAME:"Среда"},{INDEX:3,SHORT_NAME:"Чт",FULL_NAME:"Четверг"},{INDEX:4,SHORT_NAME:"Пт",FULL_NAME:"Пятница"},{INDEX:5,SHORT_NAME:"Сб",FULL_NAME:"Суббота"},{INDEX:6,SHORT_NAME:"Вс",FULL_NAME:"Воскресенье"}],r=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],i=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"]},function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n(10),r=Object(a.b)({name:"currentSubApplication",initialState:{currentSubAppId:null,categoryColorBG:null,categoryColorText:null,categoryId:null,categoryName:null,categoryPrefix:null,eventId:null,currentCharType:null,releaseDuration:null,releaseName:null,periodFrom:null,periodTo:null,modeMix:!1},reducers:{currentSubAppClearAll:function(e,t){e.currentSubAppId=null,e.categoryColorBG=null,e.categoryColorText=null,e.categoryId=null,e.categoryName=null,e.categoryPrefix=null,e.eventId=null,e.currentCharType=null,e.releaseDuration=null,e.releaseName=null},setCurrentSubAppId:function(e,t){e.currentSubAppId=t.payload},setCategoryData:function(e,t){var n=t.payload,a=n.colorBG,r=n.colorText,i=n.id,s=n.name,c=n.prefix;e.categoryColorBG=a,e.categoryColorText=r,e.categoryId=i,e.categoryName=s,e.categoryPrefix=c},setEventData:function(e,t){var n=t.payload.id;e.eventId=n},setCurrentCharType:function(e,t){e.currentCharType=t.payload},setReleaseDuration:function(e,t){e.releaseDuration=t.payload},setReleaseName:function(e,t){e.releaseName=t.payload},setPeriodFrom:function(e,t){e.periodFrom=t.payload},setPeriodTo:function(e,t){e.periodTo=t.payload},setModeMix:function(e,t){e.modeMix=t.payload}}}),i=r.actions,s=i.setCurrentSubAppId,c=i.currentSubAppClearAll,o=i.setCategoryData,l=(i.setParticipatingEventsList,i.setEventTypesList,i.setCurrentEventType,i.setEventData),u=i.setCurrentCharType,d=i.setReleaseDuration,m=i.setReleaseName,f=i.setPeriodFrom,p=i.setPeriodTo,v=i.setModeMix,y=function(e){return{currentSubAppId:e.currentSubApplication.currentSubAppId,categoryColorBG:e.currentSubApplication.categoryColorBG,categoryColorText:e.currentSubApplication.categoryColorText,categoryId:e.currentSubApplication.categoryId,categoryName:e.currentSubApplication.categoryName,categoryPrefix:e.currentSubApplication.categoryPrefix,eventId:e.currentSubApplication.eventId,currentCharType:e.currentSubApplication.currentCharType,releaseDuration:e.currentSubApplication.releaseDuration,releaseName:e.currentSubApplication.releaseDuration,periodFrom:e.currentSubApplication.periodFrom,periodTo:e.currentSubApplication.periodTo,modeMix:e.currentSubApplication.modeMix}};t.b=r.reducer},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){var a=t+1;13===a&&(a=1);var r="".concat(a).padStart(2,"0"),i="".concat(n).padStart(2,"0");return"".concat(e,"-").concat(r,"-").concat(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=e.split(":"),n=Number(t[0]),a=Number(t[1]),r=Number(t[2]);return Math.round(3600*n+60*a+r)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.pow(10,t);return Math.round(e*n)/n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var a=n(0),r=n.n(a),i=(n(52),n(2)),s=n.n(i),c=n(3),o=n.n(c),l=n(1),u=n(21),d=n(9),m=function(e){var t=e.children,n=e.setCurrentPage,i=e.setCurrentCompanyAlias,s=e.setCurrentCompanyName,c=e.setCurrentCompanyType,l=e.setToken,u=Object(a.useState)(!1),d=o()(u,2),m=d[0],f=d[1];return Object(a.useEffect)((function(){var e=!1,t="",a="",r="",o="";if(document.querySelector('meta[name="company-alias"]')?t=document.querySelector('meta[name="company-alias"]').content:(console.error('В meta нет "company-alias"'),e=!0),document.querySelector('meta[name="company-name"]')?a=document.querySelector('meta[name="company-name"]').content:(console.error('В meta нет "company-name"'),e=!0),document.querySelector('meta[name="company-type"]')?r=document.querySelector('meta[name="company-type"]').content:(console.error('В meta нет "company-type"'),e=!0),document.querySelector('meta[name="page"]')?o=document.querySelector('meta[name="page"]').content:(console.error('В meta нет "page"'),e=!0),document.querySelector('meta[name="csrf-token"]')){var u=document.querySelector('meta[name="csrf-token"]').getAttribute("content");l(u)}e||(n(o),i(t),s(a),c(r),f(!0))}),[]),r.a.createElement(r.a.Fragment,null,m?t:"")};function f(e){var t=Object(l.b)();return r.a.createElement(m,s()({},e,{setCurrentPage:function(e){t(Object(u.c)(e))},setCurrentCompanyAlias:function(e){t(Object(d.f)(e))},setCurrentCompanyName:function(e){t(Object(d.g)(e))},setCurrentCompanyType:function(e){t(Object(d.h)(e))},setCompanyProgramSystem:function(e){t(Object(d.e)(e))},setCompanyList:function(e){t(Object(d.d)(e))},setToken:function(e){t(Object(u.d)(e))}}))}var p=n(14),v=n(23),y=n(4),h=n(16),g=n(13),E=n(7),b=n(12),O=n(20),_=function(e){e.ok?(function(e){e.userData&&y.a.dispatch(Object(h.c)(e.userData))}(e),function(e){var t=e.companyList;t&&y.a.dispatch(Object(d.d)(t))}(e),function(e){var t=e.programSystem;t&&y.a.dispatch(Object(d.e)(t))}(e),function(e){var t=e.userData,n=e.playReportFiles;if(n&&t){for(var a={},r=0,i=0,s=0;s<n.length;s++){var c=n[s].split("/"),o=c[c.length-1].split(".")[0];a[o]=!0;var l=o.split("-"),u=Number(l[0]),d=Number(l[1]);(0===r||r>u||r===u&&i>d)&&(r=u,i=d)}y.a.dispatch(Object(h.c)(t)),y.a.dispatch(Object(g.q)(a)),y.a.dispatch(Object(g.m)(r)),y.a.dispatch(Object(g.n)(i))}}(e),function(e){var t=e.categoryList;t&&y.a.dispatch(Object(E.c)(t))}(e),function(e){var t=e.eventsList;t&&y.a.dispatch(Object(E.f)(t))}(e),function(e){var t=e.gridEventsList;t&&y.a.dispatch(Object(E.l)(t))}(e),function(e){var t=e.applicationList;t&&y.a.dispatch(Object(b.c)(t))}(e),function(e){var t=e.companies;t&&y.a.dispatch(Object(O.c)(t))}(e),function(e){var t=e.default_program_system;t&&y.a.dispatch(Object(O.n)(t))}(e),function(e){var t=e.default_company_type;t&&y.a.dispatch(Object(O.m)(t))}(e),function(e){var t=e.companyLegalName;t&&y.a.dispatch(Object(d.c)(t))}(e),function(e){var t=e.managerList;t&&y.a.dispatch(Object(b.t)(t))}(e)):console.error(e)},C=n(6),S=function(e){var t=e.children,n=(e.currentPage,e.currentCompanyAlias,e.setSpinnerIsActive),i=Object(a.useState)(!1),s=o()(i,2),c=s[0],l=s[1];return Object(a.useEffect)((function(){n(!0),Object(v.a)({route:"get-starting-data",data:{},successCallback:function(e){console.dir("resp"),console.dir(e),_(e),l(!0),n(!1)}})}),[]),r.a.createElement(r.a.Fragment,null,c?t:"")};function j(e){var t=Object(l.c)(u.b),n=Object(l.c)(d.b),a=Object(l.b)();return r.a.createElement(S,s()({},e,{currentPage:t.currentPage,currentCompanyAlias:n.currentCompanyAlias,setSpinnerIsActive:function(e){a(Object(p.c)(e))}}))}n(54);var I=function(e){var t=e.runAtStart,n=void 0!==t&&t,i=e.setSpinnerIsActive,s=e.isActive;return Object(a.useEffect)((function(){i(n)}),[]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"inner one"}),r.a.createElement("div",{className:"inner two"}),r.a.createElement("div",{className:"inner three"})),r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"loading-text"},r.a.createElement("span",{className:"loading-text-words"},"L"),r.a.createElement("span",{className:"loading-text-words"},"O"),r.a.createElement("span",{className:"loading-text-words"},"A"),r.a.createElement("span",{className:"loading-text-words"},"D"),r.a.createElement("span",{className:"loading-text-words"},"I"),r.a.createElement("span",{className:"loading-text-words"},"N"),r.a.createElement("span",{className:"loading-text-words"},"G")))):"")};function N(e){var t=Object(l.c)(p.b),n=Object(l.b)();return r.a.createElement(I,s()({},e,{isActive:t.isActive,setSpinnerIsActive:function(e){n(Object(p.c)(e))}}))}n(56);var L=function(e){var t=e.children;return r.a.createElement("div",{className:"siteBackground",style:{backgroundImage:"url( /public/assets/img/fonwall_ru-sundown-sea-backdrop.jpeg )"}},t)};function T(e){return r.a.createElement(L,e)}n(58);var D=function(e){var t=e.children;return r.a.createElement("div",{className:"bodyContainer"},t)};function P(e){return r.a.createElement(D,e)}n(60);var A=n(42),w=n.n(A),M=n(35),B=n.n(M),k=(n(62),function(e){var t=e.isAuth;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("a",{className:"btnLogout",href:"".concat("https://rmh-donetsk.ru","/logout"),onClick:function(e){e.preventDefault();var t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n="".concat("https://rmh-donetsk.ru","/logout"),a={"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":t};(function(){var e=w()(B.a.mark((function e(){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"post",headers:a,credentials:"same-origin",dataType:"json",body:JSON.stringify({})});case 3:r=e.sent,console.dir(r),window.location.href="https://rmh-donetsk.ru",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Ошибка : ".concat(e.t0,". При попытке вызвать fetch")),console.error({token:t,url:n});case 12:case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}},r.a.createElement("span",{className:"TMIR_icon"}),r.a.createElement("span",{className:"TMIR_title"},"Выйти")):r.a.createElement("a",{href:"".concat("https://rmh-donetsk.ru","/login"),className:"TM_btn_login"},r.a.createElement("span",null,"Войти")))});function x(e){var t=Object(l.c)(h.b);return r.a.createElement(k,s()({},e,{isAuth:t.isAuth}))}n(64);var R=function(e){var t=e.isAuth,n=e.user_name,a=e.user_position;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"userInfo"},r.a.createElement("span",{className:"userInfo_name"},n),r.a.createElement("span",{className:"userInfo_status"},a)):"")};function G(e){var t=Object(l.c)(h.b);return r.a.createElement(R,s()({},e,{isAuth:t.isAuth,user_name:t.user_name,user_position:t.user_position}))}var F=n(19),Y=n.n(F),H=(n(66),n(68),function(e){return Y()(e),r.a.createElement("a",{className:"TM_home_link",href:"".concat("https://rmh-donetsk.ru")},"Home")});function U(e){return r.a.createElement(H,e)}n(70);var K=function(e){var t=e.currentCompanyName,n=e.currentCompanyType,i=e.currentPage,s=e.user_company,c=e.user_companyNamesByAlias,l=Object(a.useState)(!1),u=o()(l,2),d=u[0],m=u[1];return r.a.createElement("div",{className:s.length>1?"siteLogo isMulti":"siteLogo",onClick:function(){s.length>1&&m(!d)}},i===C.a.PAGE.ADMIN?r.a.createElement("a",{href:"".concat("https://rmh-donetsk.ru","/").concat(C.a.PAGE.ADMIN)},"Админ панель"):r.a.createElement(r.a.Fragment,null,s.length>1?r.a.createElement("span",{className:"logoCompanyArrow ".concat(d?"icon-angle-up":"icon-angle-down")}):"",r.a.createElement("span",null,t),r.a.createElement("span",{className:"logoCompanyType"},n),d?r.a.createElement("div",{className:"siteLogo_DDList"},s.map((function(e,t){var n=window.location.href.split("/"),a="";return n[5]&&(a="/".concat(n[5])),r.a.createElement("a",{href:"".concat("https://rmh-donetsk.ru","/").concat(C.a.PAGE.COMPANY,"/").concat(e).concat(a),key:t},c[e])}))):""))};function W(e){var t=Object(l.c)(d.b),n=Object(l.c)(u.b),a=Object(l.c)(h.b);return r.a.createElement(K,s()({},e,{currentCompanyName:t.currentCompanyName,currentCompanyType:t.currentCompanyType,currentPage:n.currentPage,user_company:a.user_company,user_companyNamesByAlias:a.user_companyNamesByAlias}))}var q=n(34),z=(n(72),function(e){var t=e.title,n=e.page,a=e.route,i=void 0!==a&&a,s=e.routeForReact,c=void 0!==s&&s,o=e.currentPage,l=e.currentCompanyAlias;return r.a.createElement(r.a.Fragment,null,!1===c?r.a.createElement("a",{className:"".concat(n===o?"isActive":""," menuItemLink"),href:!1===i?"".concat("https://rmh-donetsk.ru","/").concat(C.a.COMPANY,"/").concat(l,"/").concat(n):"".concat("https://rmh-donetsk.ru","/").concat(i)},r.a.createElement("span",{className:"TMIL_icon"}),r.a.createElement("span",{className:"TMIL_title"},t)):r.a.createElement(q.b,{to:"".concat(c),className:function(e){return e.isActive?"isActive menuItemLink":"menuItemLink"},end:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"TMIL_icon"}),r.a.createElement("span",{className:"TMIL_title"},t))))});function X(e){var t=Object(l.c)(u.b),n=Object(l.c)(d.b);return r.a.createElement(z,s()({},e,{currentPage:t.currentPage,currentCompanyAlias:n.currentCompanyAlias}))}var V=function(e){return Y()(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement(W,null),r.a.createElement(X,{title:"Главная",page:C.a.PAGE.AIR_MAIN}),r.a.createElement(X,{title:"Расписание",page:C.a.PAGE.AIR_SCHEDULE}),r.a.createElement(X,{title:"Заявки",page:C.a.PAGE.AIR_APPLICATION}),r.a.createElement(X,{title:"Макет",page:C.a.PAGE.AIR_LAYOUT}),r.a.createElement(X,{title:"Эф. отчёт",page:C.a.PAGE.AIR_PLAY_REPORT}),r.a.createElement(X,{title:"Logs",page:C.a.PAGE.AIR_LOGS}))};function Z(e){var t=Object(l.c)(d.b);return r.a.createElement(V,s()({},e,{currentCompanyAlias:t.currentCompanyAlias}))}n(74);var J=function(e){return Y()(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null))};function $(e){var t=Object(l.c)(d.b);return r.a.createElement(J,s()({},e,{currentCompanyAlias:t.currentCompanyAlias}))}n(76);var Q=function(e){return Y()(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement(W,null),r.a.createElement(X,{title:"Компании",page:C.a.PAGE.ADMIN,routeForReact:"".concat(C.a.PAGE.ADMIN,"/company")}))};function ee(e){var t=Object(l.c)(d.b);return r.a.createElement(Q,s()({},e,{currentCompanyAlias:t.currentCompanyAlias}))}var te=function(e){var t=e.currentPage,n=e.isAuth,i=Object(a.useState)(!1),s=o()(i,2),c=s[0],l=s[1];Object(a.useEffect)((function(){var e=!0;switch(t){case C.a.PAGE.LOGIN:case C.a.PAGE.PAGE_NOT_FOUND:case C.a.PAGE.ACCESS_IS_CLOSED:e=!1}l(e)}),[t]);return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:n?"topMenu":"topMenu topMenuHidden"},r.a.createElement("div",{className:"TM_left"},n?r.a.createElement(r.a.Fragment,null,function(e){var t="";switch(e){case C.a.PAGE.COMPANY:t=r.a.createElement($,null);break;case C.a.PAGE.AIR_MAIN:case C.a.PAGE.AIR_SCHEDULE:case C.a.PAGE.AIR_APPLICATION:case C.a.PAGE.AIR_LAYOUT:case C.a.PAGE.AIR_PLAY_REPORT:case C.a.PAGE.AIR_LOGS:t=r.a.createElement(Z,null);break;case C.a.PAGE.ADMIN:t=r.a.createElement(ee,null)}return t}(t)):""),r.a.createElement("div",{className:"TM_right"},r.a.createElement(G,null),r.a.createElement(x,null))):"")};function ne(e){var t=Object(l.c)(u.b),n=Object(l.c)(h.b);return r.a.createElement(te,s()({},e,{currentPage:t.currentPage,isAuth:n.isAuth}))}var ae=function(e){var t=e.children,n=e.className,a=void 0===n?"":n;return r.a.createElement("div",{className:"pageContainer"},r.a.createElement(N,null),r.a.createElement(f,null,r.a.createElement(j,null,r.a.createElement(T,null,r.a.createElement(P,null,r.a.createElement(ne,null),r.a.createElement("div",{className:a},t))))))};function re(e){return r.a.createElement(ae,e)}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a),i=(n(109),n(41)),s=n(15),c=n(11),o=function(e){var t=e.HH,n=e.MM,a=e.SS,r=e.change_sec,o=""===t?"00":t,l=""===n?"00":n,u=""===a?"00":a,d="",m="",f="",p="".concat(o,":").concat(l,":").concat(u),v=Object(i.a)(p),y=c.g,h=v+r;if(h<86400&&h>=y){var g=Object(s.a)(h).split(":");d=g[0],m=g[1],f=g[2]}else d=o,m=l,f=u;return{hh:d,mm:m,ss:f}},l=!0,u=function(e){var t=e.HH,n=e.MM,i=e.SS,s=e.setHH,c=e.setMM,u=e.setSS,d=e.enterHandler,m=void 0===d?function(){}:d,f=Object(a.useRef)(),p=Object(a.useRef)(),v=Object(a.useRef)(),y=function(){""===t&&""===n&&""===i||(s(""===t?"00":t.padStart(2,"0")),c(""===n?"00":n.padStart(2,"0")),u(""===i?"00":i.padStart(2,"0")),m())},h=function(e){return/^\d+$/.test(e)},g=function(){if(l)var e=setTimeout((function(){p.current===document.activeElement||v.current===document.activeElement||f.current===document.activeElement||y(),clearTimeout(e)}),200);l=!0};return r.a.createElement("div",{className:"InputDuration"},r.a.createElement("input",{type:"text",ref:f,className:"ID_input",value:t,placeholder:"HH",maxLength:"2",onKeyDown:function(e){39===e.which?f.current.selectionStart===t.length&&p.current.focus():13===e.which&&(y(),l=!1,f.current.blur())},onChange:function(e){var t=e.target.value;""===t?s(t):h(t)&&Number(t)<24&&(s(t),2===t.length&&p.current.focus())},onBlur:g,onWheel:function(e){var a=e.deltaY,r=o({HH:t,MM:n,SS:i,change_sec:a>0?-3600:3600}),l=r.hh,d=r.mm,m=r.ss;s(l),c(d),u(m)}}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",ref:p,className:"ID_input",value:n,placeholder:"MM",maxLength:"2",onKeyDown:function(e){39===e.which?p.current.selectionStart===n.length&&v.current.focus():37===e.which?0===p.current.selectionStart&&f.current.focus():13===e.which&&(y(),l=!1,p.current.blur())},onChange:function(e){var t=e.target.value;""===t?c(t):h(t)&&Number(t)<60&&(c(t),2===t.length&&v.current.focus())},onBlur:g,onWheel:function(e){var a=e.deltaY,r=o({HH:t,MM:n,SS:i,change_sec:a>0?-60:60}),l=r.hh,d=r.mm,m=r.ss;s(l),c(d),u(m)}}),r.a.createElement("span",null,":"),r.a.createElement("input",{type:"text",ref:v,className:"ID_input",value:i,placeholder:"SS",maxLength:"2",onKeyDown:function(e){39===e.which?(v.current.selectionStart,i.length):37===e.which?0===v.current.selectionStart&&p.current.focus():13===e.which&&(y(),l=!1,v.current.blur())},onChange:function(e){var t=e.target.value;(""===t||h(t)&&Number(t)<60)&&u(t)},onBlur:g,onWheel:function(e){var a=e.deltaY,r=o({HH:t,MM:n,SS:i,change_sec:a>0?-1:1}),l=r.hh,d=r.mm,m=r.ss;s(l),c(d),u(m)}}))};function d(e){return r.a.createElement(u,e)}},,function(e,t,n){var a=n(5),r=n(53);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(55);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(57);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(59);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(61);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(63);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(65);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(67);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(69);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(71);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(73);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(75);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(77);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=(n(99),function(e){var t=e.isChanged,n=e.clickHandler;return r.a.createElement("div",{className:"PB_SaveButton ".concat(t?"isActive":""),onClick:n},r.a.createElement("span",{className:"icon-floppy PB_SaveButton_icon"}),r.a.createElement("span",{className:""},"Сохранить изменения"))});function s(e){return r.a.createElement(i,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=(n(95),function(e){var t=e.title,n=void 0===t?"Добавить":t,a=e.isReady,i=e.clickHandler;return r.a.createElement("div",{className:"AW_item AWButtonAdd"},r.a.createElement("span",{className:a?"icon-plus AWButtonAdd_isActive":"icon-plus ",onClick:function(){a&&i()}},r.a.createElement("span",null,n)))});function s(e){return r.a.createElement(i,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(38),r=function(e){var t={YYYY_MM_DD:"",year:0,mounth:0,date:0,dayNum:0,dayName:"",dayNameShort:""},n=new Date(1e3*e),r=n.getFullYear(),i=n.getMonth(),s=n.getDate(),c=n.getDay();c>0?c-=1:c=6;var o="".concat(r).padStart(4,"0"),l="".concat(i+1).padStart(2,"0"),u="".concat(s).padStart(2,"0");return t.YYYY_MM_DD="".concat(o,"-").concat(l,"-").concat(u),t.year=r,t.mounth=i,t.month=i,t.date=s,t.dayNum=c,t.dayName=a.b[c],t.dayNameShort=a.c[c],t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(91),r=n.n(a),i=n(0),s=n.n(i),c=(n(180),function(e){var t,n=e.text,a=void 0===n?null:n,i=e.type,c=void 0===i?"confirm":i,o=e.continueHandler,l=void 0===o?function(){}:o,u=e.cancelHandler,d=void 0===u?function(){}:u,m=e.titleContinue,f=void 0===m?"Продолжить":m,p=e.titlecancel,v=void 0===p?"Отмена":p,y=e.children;return s.a.createElement("div",{className:"AW_item AWConfirm"},null===a?"":(t="","string"==typeof a?t=s.a.createElement("p",null,a):"object"===r()(a)&&Array.isArray(a)&&(t=a.map((function(e,t){return s.a.createElement("p",{key:t},e)}))),t),y||"",s.a.createElement("div",{className:"AWConfirm_buttons"},null===f?"":s.a.createElement("div",{className:"btn ".concat("confirm"===c?"confirm":"warning"),onClick:l},s.a.createElement("span",null,f)),null===v?"":s.a.createElement("div",{className:"btn cancel",onClick:d},s.a.createElement("span",null,v))))});function o(e){return s.a.createElement(c,e)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={YY_MM_DD_points:function(e){return e.replace(/-/g,".")},YY_MM_DD_points_reverse:function(e){var t=e.split("-");return"".concat(t[2],".").concat(t[1],".").concat(t[0])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n(11),i=function(e){var t={backgroundColor:"#ffffff00",color:"#ffffff00",borderColor:"#ffffff00"},n=a.a.getState().layout,i=n.eventListById,s=n.categoryListById;if(i[e]){var c=i[e],o=c.type,l=c.category_id;if(s[l]){var u=s[l],d=u.colorBG,m=u.colorText;o===r.e.FILE?(t.backgroundColor=d,t.color=m):o===r.e.BLOCK&&(t.backgroundColor="#ffffff00",t.color="#000000",t.borderColor=d)}}else t.event_is_not_found=!0;return t}},,function(e,t,n){var a=n(5),r=n(88);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(90);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,,,function(e,t,n){var a=n(5),r=n(96);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,function(e,t,n){var a=n(5),r=n(100);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=(n(149),function(e){var t=e.title,n=e.value,a=e.onChange,i=e.max,s=void 0===i?255:i,c=e.min,o=void 0===c?0:c,l=e.placeholder,u=void 0===l?"":l;return r.a.createElement("div",{className:"AW_item AWTextarea"},r.a.createElement("h3",null,t),r.a.createElement("textarea",{className:"AW_textarea",maxLength:s,minLength:o,value:n,onChange:a,placeholder:u}))});function s(e){return r.a.createElement(i,e)}},,,function(e,t,n){var a=n(5),r=n(110);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var a=n(0),r=n.n(a),i=n(1),s=(n(151),n(27)),c=(n(153),n(2)),o=n.n(c),l=n(26),u=(n(155),n(157),n(15)),d=function(e){var t=e.cutPart,n=e.durationTime,a=e.isKeyPoint,i=e.startTime,s=e.eventStyle,c=e.eventName;return r.a.createElement("div",{className:"CEE_OneAppearenceEventPart"},r.a.createElement("div",{className:"AOASGE_wrap"},r.a.createElement("div",{className:"AOASGE_Time"},r.a.createElement("span",{className:"AOASGE_Time_time ".concat(a?"isKeyPoint":"")},Object(u.a)(i)),r.a.createElement("span",{className:"AOASGE_Time_duration"},Object(u.a)(n))),r.a.createElement("div",{className:"AOASGE_Body"},r.a.createElement("div",{className:"AOASGE_EventNameItem"},r.a.createElement("input",{type:"text",value:c,maxLength:255,onChange:function(){},style:s}),null!==t?r.a.createElement("div",{className:"curPartName"},r.a.createElement("span",null,r.a.createElement("span",{className:"icon icon-scissors"}),r.a.createElement("span",{className:"num"},t))):""))))};function m(e){var t=Object(i.c)(l.b);return r.a.createElement(d,o()({},e,{eventStyle:t.eventStyle,eventName:t.eventName}))}n(159);var f=n(8),p=n.n(f),v=n(3),y=n.n(v),h=(n(161),n(11)),g=n(4),E=function(e){var t,n=g.a.getState().cutEventEditor.eventsPartsList,a=0;return t=n[e].startTime+h.g,n[e+1]&&(a=n[e+1].startTime+n[e+1].durationTime-h.g-1),{timeSpaceFrom:t,timeSpaceTo:a}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.index,n=e.eventsPartsList,i=e.setEventsPartsList,s=Object(a.useState)(!1),c=y()(s,2),o=c[0],l=c[1];Object(a.useEffect)((function(){n[t+1]?l(!0):l(!1)}),[n,t]);var u=function(e){var a=n[t].startTime,r=n[t].durationTime,s=n[t+1].startTime,c=n[t+1].durationTime,o=E(t),l=o.timeSpaceFrom,u=o.timeSpaceTo,d=s-e,m=[];if(l<=d&&u>=d){for(var f=0;f<n.length;f++)if(f===t){var p=a,v=r-e,y=O({},n[f]);y.startTime=p,y.durationTime=v,m.push(y)}else if(f===t+1){var h=s-e,g=c+e,b=O({},n[f]);b.startTime=h,b.durationTime=g,m.push(b)}else m.push(O({},n[f]));i(m)}},d=function(e){var a=n[t].startTime,r=n[t].durationTime,s=n[t+1].startTime,c=n[t+1].durationTime,o=E(t),l=o.timeSpaceFrom,u=o.timeSpaceTo,d=s+e,m=[];if(l<=d&&u>=d){for(var f=0;f<n.length;f++)if(f===t){var p=a,v=r+e,y=O({},n[f]);y.startTime=p,y.durationTime=v,m.push(y)}else if(f===t+1){var h=s+e,g=c-e,b=O({},n[f]);b.startTime=h,b.durationTime=g,m.push(b)}else m.push(O({},n[f]));i(m)}};return r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"AOASGE_TimeButtons"},r.a.createElement("div",{className:"btn",onClick:function(){u(60)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"60s")),r.a.createElement("div",{className:"btn",onClick:function(){u(10)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"10s")),r.a.createElement("div",{className:"btn marginRight",onClick:function(){u(1)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"1s")),r.a.createElement("div",{className:"btn",onClick:function(){d(1)}},r.a.createElement("span",{className:"text"},"1s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){d(10)}},r.a.createElement("span",{className:"text"},"10s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){d(60)}},r.a.createElement("span",{className:"text"},"60s"),r.a.createElement("span",{className:"icon icon-right"}))):"")};function C(e){var t=Object(i.c)(l.b),n=Object(i.b)();return r.a.createElement(_,o()({},e,{eventsPartsList:t.eventsPartsList,setEventsPartsList:function(e){n(Object(l.c)(e))}}))}n(163);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.eventsPartsList,n=e.index,i=e.setEventsPartsList,s=Object(a.useState)(!1),c=y()(s,2),o=c[0],l=c[1];Object(a.useEffect)((function(){t[n-1]?l(!0):l(!1)}),[t,n]);return r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"AOASGE_RemoveBtn"},r.a.createElement("span",{onClick:function(){for(var e=[],a=1,r=0;r<t.length;r++)if(n===r){var s=t[r].durationTime;e[r-1].durationTime=e[r-1].durationTime+s}else{var c=j({},t[r]);c.cutPart=a,a++,e.push(c)}1===e.length&&(e[0].cutPart=null,e[0].firstSegmentId=null),i(e)}},"удалить")):"")};function N(e){var t=Object(i.c)(l.b),n=Object(i.b)();return r.a.createElement(I,o()({},e,{eventsPartsList:t.eventsPartsList,setEventsPartsList:function(e){n(Object(l.c)(e))}}))}n(165);var L=function(e){var t=e.index,n=e.maxDurationTime,i=e.eventsPartsList,s=Object(a.useState)(0),c=y()(s,2),o=c[0],l=c[1],u=Object(a.useState)(0),d=y()(u,2),m=d[0],f=d[1];return Object(a.useEffect)((function(){var e=i[t].durationTime;l(100*e/n);var a=function(e){for(var t=g.a.getState().cutEventEditor,n=t.maxDurationTime,a=t.eventsPartsList,r=0,i=0;i<a.length&&i!==e;i++){r=r+a[i].durationTime+1}return 100*r/n}(t);f(a)}),[i,t]),r.a.createElement("div",{className:"AOASGE_SettingTimeTrack"},r.a.createElement("div",{className:"AOASGE_track"},r.a.createElement("div",{className:"AOASGE_filled_track",style:{left:"".concat(m,"%"),width:"".concat(o,"%")}})))};function T(e){var t=Object(i.c)(l.b);Object(i.b)();return r.a.createElement(L,o()({},e,{eventsPartsList:t.eventsPartsList,maxDurationTime:t.maxDurationTime}))}var D=function(e){var t=e.index;return r.a.createElement("div",{className:"AOASGE_setting"},r.a.createElement("div",{className:"AOASGE_setting_buttons"},r.a.createElement(C,{index:t}),r.a.createElement(N,{index:t})),r.a.createElement("div",{className:"AOASGE_setting_time_track"},r.a.createElement(T,{index:t})))};function P(e){return r.a.createElement(D,e)}var A=function(e){var t=e.eventsPartsList;return r.a.createElement("div",{className:"CEE_EventAppearance"},t.map((function(e,t){var n=e.cutPart,a=e.durationTime,i=e.isKeyPoint,s=e.startTime;return r.a.createElement("div",{className:"CEE_EventAppearance_item",key:t},r.a.createElement(m,{cutPart:n,durationTime:a,isKeyPoint:i,startTime:s}),r.a.createElement(P,{index:t}))})))};function w(e){var t=Object(i.c)(l.b);return r.a.createElement(A,o()({},e,{eventsPartsList:t.eventsPartsList}))}n(167),n(169);var M=function(e){var t=e.timeSec;return r.a.createElement("div",{className:"CGETT_time_space"},r.a.createElement("span",null,Object(u.a)(t)))};function B(e){return r.a.createElement(M,e)}n(171),n(173);var k=function(e){var t,n,a=e.maxDurationTime,i=e.point,s=e.pointIndex;return r.a.createElement("div",{className:"CGETT_PointControlSlider",style:{left:(t=i,n=a,"".concat(100*(t-1)/n,"%"))},onClick:function(){alert(s)}})};function x(e){var t=Object(i.c)(l.b);return r.a.createElement(k,o()({},e,{maxDurationTime:t.maxDurationTime}))}var R=function(e){var t=e.eventsPartsList,n=Object(a.useState)([]),i=y()(n,2),s=i[0],c=i[1];Object(a.useEffect)((function(){c(function(){for(var e=g.a.getState().cutEventEditor,t=e.eventsPartsList,n=e.maxDurationTime,a=0,r=[],i=0;i<t.length;i++){var s=t[i],c=s.startTime,o=s.durationTime;if(0===i&&(a=c),t[i+1]){var l=0,u=0;l=t[i-1]?t[i-1].startTime-a+h.g:h.g,u=t[i+2]?t[i+2].startTime-a-h.g:n-h.g;var d=t[i+1].startTime-c-o;r.push({point:t[i+1].startTime-a-d,duration:o,spaceFrom:l,spaceTo:u})}}return r}())}),[t]);return r.a.createElement("div",{className:"CGETT_points_track"},s.map((function(e,t){return r.a.createElement(x,{key:t,point:e.point,pointIndex:t})})))};function G(e){var t=Object(i.c)(l.b);return r.a.createElement(R,o()({},e,{eventsPartsList:t.eventsPartsList}))}n(175);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.maxDurationTime,n=e.setEventsPartsList,i=Object(a.useRef)(),s=Object(a.useState)("none"),c=y()(s,2),o=c[0],l=c[1],d=Object(a.useState)(0),m=y()(d,2),f=m[0],p=m[1],v=Object(a.useState)(0),h=y()(v,2),E=h[0],b=h[1],O=Object(a.useState)(0),_=y()(O,2),C=_[0],S=_[1];Object(a.useEffect)((function(){S(Math.round(t*E/100))}),[E]);return r.a.createElement("div",{className:"CGETT_cut_time_track",ref:i,onMouseMove:function(e){l("flex");var t=e.clientX,n=i.current.getBoundingClientRect(),a=n.left,r=n.width,s=0,c=100*(s=t<=a?0:t>=a+r?r:Math.round(t-a))/r;p(s),b(c)},onMouseLeave:function(){l("none")},onClick:function(){var e=function(e){for(var t=g.a.getState().cutEventEditor.eventsPartsList,n=1,a=0,r=t[0].id,i=[],s=0;s<t.length;s++){var c=Y({},t[s]),o=c.startTime,l=c.durationTime,u=o+e-a;if(o<u&&u<o+l){var d=e-a,m=l-d,f=o,p=o+d+1,v=Y({},t[s]);v.startTime=f,v.durationTime=d,v.cutPart=n,v.firstSegmentId=r,i.push(v);var y=Y({},t[s]);n+=1,y.id=null,y.gridEventId=null,y.startTime=p,y.durationTime=m,y.cutPart=n,y.firstSegmentId=r,y.isKeyPoint=!1,i.push(y)}else{var h=Y({},t[s]);h.cutPart=n,i.push(h)}a+=l,n+=1}return i.sort((function(e,t){var n=0;return e.startTime>t.startTime&&(n=1),e.startTime<t.startTime&&(n=-1),n}))}(C);n(e)}},r.a.createElement("div",{className:"CGETT_cutTimeCursor",style:{display:o,left:"".concat(f,"px")}},r.a.createElement("span",null,Object(u.a)(C))))};function U(e){var t=Object(i.c)(l.b),n=Object(i.b)();return r.a.createElement(H,o()({},e,{maxDurationTime:t.maxDurationTime,setEventsPartsList:function(e){n(Object(l.c)(e))}}))}var K=function(e){var t=e.maxDurationTime;return r.a.createElement("div",{className:"CGETT_timeTrack"},r.a.createElement("div",{className:"CGETT_wrap"},r.a.createElement(B,{timeSec:0}),r.a.createElement("div",{className:"CGETT_track_wrap"},r.a.createElement(G,null),r.a.createElement(U,null)),r.a.createElement(B,{timeSec:t})))};function W(e){var t=Object(i.c)(l.b);Object(i.b)();return r.a.createElement(K,o()({},e,{maxDurationTime:t.maxDurationTime}))}n(177);n(28);var q=function(e){var t=e.saveHandler;e.eventsPartsList;return r.a.createElement("div",{className:"AOASGE_SaveCutResultBtn"},r.a.createElement("div",{className:"btn_wrap",onClick:function(){t()}},r.a.createElement("span",{className:"icon icon-plus"}),r.a.createElement("span",{className:"text"},"Добавть")))};function z(e){var t=Object(i.c)(l.b);Object(i.b)();return r.a.createElement(q,o()({},e,{eventsPartsList:t.eventsPartsList}))}var X=function(e){var t=e.saveHandler;return r.a.createElement("div",{className:"CEE_Component"},r.a.createElement(w,null),r.a.createElement(W,null),r.a.createElement(z,{saveHandler:t}))};function V(e){return r.a.createElement(X,e)}var Z=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.saveHandler;return r.a.createElement("div",{className:"cutEventEditor"},r.a.createElement(s.a,{isOpen:t,setIsOpen:n,width:"90vw",height:"90vh",showCurrentDayName:!0},r.a.createElement(r.a.Fragment,null,t?r.a.createElement(V,{saveHandler:a}):"")))};function J(e){Object(i.b)();return r.a.createElement(Z,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(0),r=n.n(a),i=n(1),s=(n(135),n(7)),c=n(27),o=n(3),l=n.n(o),u=(n(137),n(2)),d=n.n(u),m=(n(139),n(15)),f=n(4),p=n(11),v=function(e){var t={backgroundColor:"#ffffff00",color:"#ffffff00"},n=f.a.getState().layout,a=n.eventListById,r=n.categoryListById;if(a[e]){var i=a[e],s=i.type,c=i.category_id;if(r[c]){var o=r[c],l=o.colorBG,u=o.colorText;s===p.e.FILE?(t.backgroundColor=l,t.color=u):s===p.e.BLOCK&&(t.backgroundColor="#ffffff00",t.color="#000000",t.borderColor=l)}}return t},y=function(e){var t=e.eventId,n=e.startTime,i=e.isAKeyOneEvent,s=void 0!==i&&i,c=e.eventListById,o=e.categoryListById,u=Object(a.useState)(!1),d=l()(u,2),f=d[0],p=d[1],y=Object(a.useState)(0),h=l()(y,2),g=h[0],E=h[1],b=Object(a.useState)(""),O=l()(b,2),_=O[0],C=O[1],S=Object(a.useState)(""),j=l()(S,2),I=j[0],N=j[1],L=Object(a.useState)(""),T=l()(L,2),D=T[0],P=T[1];return Object(a.useEffect)((function(){if(null===t)p(!1),E(0),C("");else if(p(!0),c[t]){var e=c[t],n=e.category_id,a=e.name,r=e.notes,i=e.durationTime;if(E(i),C(r),o[n]){var s=o[n].prefix;N(s),P(a)}else N(""),P("")}}),[t]),r.a.createElement(r.a.Fragment,null,f?r.a.createElement("div",{className:"appearanceOfASingleGridEvent"},r.a.createElement("div",{className:"AOASGE_wrap"},r.a.createElement("div",{className:"AOASGE_Time"},r.a.createElement("span",{className:"AOASGE_Time_time ".concat(s?"isKeyPoint":"")},Object(m.a)(n)),r.a.createElement("span",{className:"AOASGE_Time_duration"},g)),r.a.createElement("div",{className:"AOASGE_Body"},r.a.createElement("div",{className:"AOASGE_PrefixItem"},r.a.createElement("span",null,I)),r.a.createElement("div",{className:"AOASGE_EventNameItem"},r.a.createElement("input",{type:"text",value:D,maxLength:255,onChange:function(){},style:v(t)})),r.a.createElement("div",{className:"AOASGE_EventNotesItem"},r.a.createElement("input",{type:"text",value:_,onChange:function(){}}))))):"")};function h(e){var t=Object(i.c)(s.b);return r.a.createElement(y,d()({},e,{eventListById:t.eventListById,categoryListById:t.categoryListById}))}n(141),n(143);var g=n(44),E=!0,b=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,i=e.target,s=e.startTime,c=e.setTimeTarget,o=e.duration,u=e.setStartTime,d=Object(a.useState)(0),f=l()(d,2),p=f[0],v=f[1],y=Object(a.useState)(0),h=l()(y,2),b=h[0],O=h[1];Object(a.useEffect)((function(){if(null===o)v(0),O(0);else{var e=Object(g.a)(100*o/(t-n),5);e<=1&&(e=1),v(e),O(_())}E=!0}),[o,t,n,s]),Object(a.useEffect)((function(){E?O(_()):E=!0}),[s]);var _=function(){var e=t-n,a=s-n,r=100*a/(e+o),i=100*o/e;return i<=1&&(i=1,r=100*a/(e+1*e/100)),r*(100+i)/100},C=Object(a.useRef)(),S=Object(a.useRef)(),j=function(){c("start"===i?"finish":"start")};return r.a.createElement(r.a.Fragment,null,null===o?"":r.a.createElement("div",{className:"G_ANG_TS_track_wrap"},r.a.createElement("div",{className:"G_ANG_TS_track_time_point"},r.a.createElement("span",null,Object(m.a)(n))),r.a.createElement("div",{className:"G_ANG_TS_track",ref:C},r.a.createElement("div",{className:"G_ANG_TS_slider",style:{left:"".concat(b,"%"),width:"".concat(p,"%")},ref:S,onMouseDown:function(e){var a,r,i=e.clientX,s=S.current.getBoundingClientRect(),c=s.left,l=s.width,d=C.current.getBoundingClientRect(),m=d.left,f=d.right,v=d.width,y=i-c;a=document.querySelector("body"),(r=document.createElement("div")).id="curtain_time",a.append(r),function(e,t){var n=document.getElementById("curtain_time"),a=!1;n.onmousemove=function(t){e(t.x),a=!0},n.onmouseleave=function(){n.onmouseleave=null,n.onmousemove=null,n.onmouseup=null,n.remove(),a||t(),a=!1},n.onmouseup=function(){n.onmouseleave=null,n.onmousemove=null,n.onmouseup=null,n.remove(),a||t(),a=!1}}((function(e){if(E=!1,e-y>=m&&e+l-y<=f){var a=100*(e-y-m)/v;O(a);var r=Math.round(100*a/(100-p)*(t-n-o)/100);u(n+r)}else e-y<m?(O(0),u(n)):e+l-y>f&&(O(100-p),u(t-o))}),j)}},"start"===i?r.a.createElement("div",{className:"G_ANG_TS_slider_time left"},r.a.createElement("span",null,Object(m.a)(s))):r.a.createElement("div",{className:"G_ANG_TS_slider_time right"},r.a.createElement("span",null,Object(m.a)(s+o))))),r.a.createElement("div",{className:"G_ANG_TS_track_time_point"},r.a.createElement("span",null,Object(m.a)(t)))))};function O(e){var t=Object(i.c)(s.b);return r.a.createElement(b,d()({},e,{eventList:t.eventList,eventListById:t.eventListById}))}n(145);var _=n(50),C=n(41),S=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,i=e.duration,s=e.startTime,c=e.setStartTime,o=Object(a.useState)(""),u=l()(o,2),d=u[0],m=u[1],f=Object(a.useState)(""),p=l()(f,2),v=p[0],y=p[1],h=Object(a.useState)(""),g=l()(h,2),E=g[0],b=g[1],O=function(e){var t=s-e;t>=n&&(console.dir("next_val"),console.dir(t),c(t))},S=function(e){var n=s+e;n<=t-i&&c(n)};return r.a.createElement(r.a.Fragment,null,null===i?"":r.a.createElement("div",{className:"G_ANG_TS_TimeButtons"},r.a.createElement("div",{className:"btn",onClick:function(){O(60)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"60s")),r.a.createElement("div",{className:"btn",onClick:function(){O(10)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"10s")),r.a.createElement("div",{className:"btn marginRight",onClick:function(){O(1)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"1s")),r.a.createElement("div",{className:"btn",onClick:function(){S(1)}},r.a.createElement("span",{className:"text"},"1s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){S(10)}},r.a.createElement("span",{className:"text"},"10s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){S(60)}},r.a.createElement("span",{className:"text"},"60s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"time_input"},r.a.createElement(_.a,{HH:E,MM:v,SS:d,setHH:b,setMM:y,setSS:m,enterHandler:function(){var e="00",a="00",r="00";""!==E&&(e=E),""!==v&&(a=v),""!==d&&(r=d);var s=Object(C.a)("".concat(e,":").concat(a,":").concat(r));s>=n&&s<=t-i&&c(s),m(""),y(""),b("")}}))))};function j(e){return r.a.createElement(S,e)}var I=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,a=e.startTime,i=e.setStartTime,s=e.timeTarget,c=e.setTimeTarget,o=e.durationTime;return r.a.createElement("div",{className:"G_ANG_TimeSelected"},r.a.createElement(j,{timeSpaceTo:t,timeSpaceFrom:n,duration:o,startTime:a,setStartTime:i}),r.a.createElement(O,{timeSpaceTo:t,timeSpaceFrom:n,duration:o,target:s,setTimeTarget:c,startTime:a,setStartTime:i}))};function N(e){return r.a.createElement(I,e)}var L=function(e){var t=e.durationTime,n=e.startTime,i=e.timeSpaceTo,s=e.timeSpaceFrom,c=e.eventId,o=e.setStartTime,u=e.clickSaveHandler,d=Object(a.useState)("start"),m=l()(d,2),f=m[0],p=m[1];return r.a.createElement("div",{className:"ST_AlertComponent"},r.a.createElement(h,{eventId:c,startTime:n}),r.a.createElement(N,{timeSpaceTo:i,timeSpaceFrom:s,startTime:n,setStartTime:o,timeTarget:f,setTimeTarget:p,durationTime:t}),r.a.createElement("div",{className:"STEC_save_changes"},r.a.createElement("div",{className:"btn",onClick:u},r.a.createElement("span",{className:"icon icon-floppy"}),r.a.createElement("span",{className:"text"},"Сохранить"))))};function T(e){Object(i.c)(s.b),Object(i.b)();return r.a.createElement(L,e)}var D=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.durationTime,i=e.startTime,s=e.timeSpaceTo,o=e.timeSpaceFrom,l=e.eventId,u=e.setStartTime,d=e.clickSaveHandler;return r.a.createElement("div",{className:"startTimeEditor"},r.a.createElement(c.a,{isOpen:t,setIsOpen:n,width:"90vw",height:"60vh",title:"Редактр времени выхода",showCurrentDayName:!0},r.a.createElement(T,{durationTime:a,startTime:i,timeSpaceTo:s,timeSpaceFrom:o,eventId:l,setStartTime:u,clickSaveHandler:d})))};function P(e){Object(i.c)(s.b),Object(i.b)();return r.a.createElement(D,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(2),r=n.n(a),i=n(0),s=n.n(i),c=n(1),o=(n(127),n(36)),l=(n(129),function(e){var t=e.currentCounterType,n=e.setCurrentCounterType;return s.a.createElement("div",{className:"PBC_counterTypeSelect"},s.a.createElement("div",{className:"PBC_type_btn ".concat("day"===t?"isActive":""),onClick:function(){n("day")}},s.a.createElement("span",null,"Сутки")),s.a.createElement("div",{className:"PBC_type_btn ".concat("hour"===t?"isActive":""),onClick:function(){n("hour")}},s.a.createElement("span",null,"Час")))});function u(e){var t=Object(c.c)(o.b),n=Object(c.b)();return s.a.createElement(l,r()({},e,{currentCounterType:t.currentCounterType,setCurrentCounterType:function(e){n(Object(o.e)(e))}}))}var d=n(8),m=n.n(d),f=(n(131),n(37)),p=n(15),v=n(44);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.counterList;return s.a.createElement("div",{className:"PBC_CountersDayList"},s.a.createElement(f.a,null,function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=a.category,i=a.duration,c=a.is_premiere;t[r.id]?(t[r.id].duration=t[r.id].duration+i,c?t[r.id].duration_premiere=t[r.id].duration_premiere+i:t[r.id].duration_repeat=t[r.id].duration_repeat+i):t[r.id]={category:h({},r),duration:i,is_premiere:c,duration_premiere:c?i:0,duration_repeat:c?0:i}}for(var o in t){var l=t[o],u=l.duration,d=l.duration_premiere,m=l.duration_repeat,f=Object(p.a)(u),y=Object(p.a)(d),g=Object(p.a)(m),E=Object(v.a)(100*u/86400,3),b=Object(v.a)(100*d/86400,3),O=Object(v.a)(100*m/86400,3);t[o].time=f,t[o].time_premiere=y,t[o].time_repeat=g,t[o].procent=E,t[o].procent_premiere=b,t[o].procent_repeat=O}var _=[];for(var C in t)_.push(t[C]);return _.map((function(e,t){var n=e.category,a=e.duration,r=e.procent,i=e.procent_premiere,c=e.procent_repeat,o=e.time,l=e.time_premiere,u=e.time_repeat,d=e.duration_premiere,m=e.duration_repeat,f=(e.is_premiere,n.colorBG),p=n.colorText,v=n.name;return s.a.createElement("div",{className:"PBC_one_counter_day",key:t},s.a.createElement("h4",null,s.a.createElement("span",{style:{backgroundColor:f,color:p}},v)),s.a.createElement("div",null,s.a.createElement("span",{className:"PBS_name"},s.a.createElement("span",{className:"PBS_name_total"},"всего")),s.a.createElement("span",{className:"PBS_time"},o),s.a.createElement("span",{className:"PBS_procent"},r,"%"),s.a.createElement("span",{className:"PBS_duration"},a," ",s.a.createElement("span",null,"сек"))),s.a.createElement("div",null,s.a.createElement("span",{className:"PBS_name"},s.a.createElement("span",{className:"PBS_name_premier"},"премьера")),s.a.createElement("span",{className:"PBS_time isPremiere"},l),s.a.createElement("span",{className:"PBS_procent isPremiere"},i,"%"),s.a.createElement("span",{className:"PBS_duration isPremiere"},d," ",s.a.createElement("span",null,"сек"))),s.a.createElement("div",null,s.a.createElement("span",{className:"PBS_name"},s.a.createElement("span",{className:"PBS_name_repeat"},"повторы")),s.a.createElement("span",{className:"PBS_time"},u),s.a.createElement("span",{className:"PBS_procent"},c,"%"),s.a.createElement("span",{className:"PBS_duration"},m," ",s.a.createElement("span",null,"сек"))))}))}(t)))};function E(e){var t=Object(c.c)(o.b);return s.a.createElement(g,r()({},e,{counterList:t.counterList}))}n(133);var b=function(e){var t=e.counterListHours;return s.a.createElement("div",{className:"PBC_CountersHoursList"},s.a.createElement(f.a,null,t.map((function(e,t){var n=e.category,a=e.hours,r=n.colorBG,i=n.colorText,c=n.name;return s.a.createElement("div",{key:t,className:"PBC_CHL_item"},s.a.createElement("h4",null,s.a.createElement("span",{style:{backgroundColor:r,color:i}},c)),function(e){return e.map((function(e,t){var n=e.duration_proc,a=e.duration_sec,r=e.duration_time,i=(e.hour,e.time);return s.a.createElement("div",{key:t},s.a.createElement("span",{className:"PBS_startTime"},i),s.a.createElement("span",{className:"PBS_duration_time"},r),s.a.createElement("span",{className:"PBS_duration_procent"},n,"%"),s.a.createElement("span",{className:"PBS_duration_sec"},a," ",s.a.createElement("span",null,"сек")))}))}(a))}))))};function O(e){var t=Object(c.c)(o.b);return s.a.createElement(b,r()({},e,{counterList:t.counterList,counterListHours:t.counterListHours}))}var _=function(e){var t=e.currentCounterType;return s.a.createElement("div",{className:"pageBodyCounters"},s.a.createElement("h2",{className:"PBC_counter_title"},"Счётчик"),s.a.createElement(u,null),"day"===t?s.a.createElement(E,null):s.a.createElement(O,null))};function C(e){var t=Object(c.c)(o.b);return s.a.createElement(_,r()({},e,{currentCounterType:t.currentCounterType}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(17),r=n.n(a),i=n(18),s=n.n(i),c=n(4),o=n(36),l=n(11),u=function(e){var t=c.a.getState().layout,n=t.eventListById,a=t.categoryListById,r={};if(n[e]){var i=n[e].category_id;r=a[i]?a[i]:l.c}return r},d=n(15),m=n(44),f=function(){return s()((function e(){r()(this,e),this.hours={},this.Create=this.Create.bind(this),this.Add=this.Add.bind(this),this.GetList=this.GetList.bind(this)}),[{key:"Create",value:function(){for(var e=0;e<24;e++)this.hours[e]=0}},{key:"Add",value:function(e,t){var n=Math.floor(e/3600),a=3600*(n+1);if(e+t<a)this.hours[n]=this.hours[n]+t;else{var r=e+t-a,i=t-r;this.hours[n]=this.hours[n]+i,this.hours[n+1]&&(this.hours[n+1]=this.hours[n+1]+r)}}},{key:"GetList",value:function(){var e=[];for(var t in this.hours){var n=Number(t),a=Object(d.a)(3600*n,!0),r=this.hours[t],i=Object(d.a)(this.hours[t]),s=Object(m.a)(100*r/3600,3);e.push({hour:t,time:a,duration_sec:r,duration_time:i,duration_proc:s})}return e}}])}(),p=function(){return s()((function e(){r()(this,e),this.counter_list=[],this.counter_list_hours=[],this.CreateTypeDay=this.CreateTypeDay.bind(this),this.CreateTypeHour=this.CreateTypeHour.bind(this),this.SetToStore=this.SetToStore.bind(this)}),[{key:"CreateTypeDay",value:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.eventId,i=a.durationTime,s=a.is_premiere,c=u(r);t.push({category:c,duration:i,is_premiere:s})}this.counter_list=t}},{key:"CreateTypeHour",value:function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=a.eventId,i=a.startTime,s=a.durationTime,c=u(r),o=c.id;t[o]||(t[o]={},t[o].category=c,t[o].Hours=new f,t[o].Hours.Create()),t[o].Hours.Add(i,s)}var l=[];for(var d in t){var m=t[d].category,p=t[d].Hours.GetList();l.push({category:m,hours:p})}this.counter_list_hours=l}},{key:"SetToStore",value:function(){c.a.dispatch(Object(o.c)(this.counter_list)),c.a.dispatch(Object(o.d)(this.counter_list_hours))}}])}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(8),r=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(28),o=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){for(var a=[],r=[],i=e[0].startTime,s=0;s<e.length;s++){var c=e[s],o=c.startTime,l=c.durationTime;if(o>=i)r.push(u({},e[s]));else{var d=u({},e[s]);d.startTime=i,r.push(u({},d))}i=o+l+1}var m=r[r.length-1].durationTime;if(r[r.length-1].startTime+m<n)a=r;else{for(var f=[],p=n,v=r.length-1;v>=0;v--){var y=r[v],h=y.startTime;if(h>(p=p-y.durationTime-1)){var g=u({},r[v]);g.startTime=p,f.push(u({},g))}else f.push(u({},r[v])),p=h}a=f.sort((function(e,t){return e.startTime>t.startTime?1:-1}))}return a}var m=function(e,t){return function(e){for(var t=[],n=0;n<e.length;n++)0===n?(t.push([]),t[t.length-1].push(e[0])):(!0===e[n].isKeyPoint&&t.push([]),t[t.length-1].push(e[n]));for(var a=[],r=0,i=86399,s=0;s<t.length;s++){0!==s&&(r=t[s][0].startTime),i=t[s+1]?t[s+1][0].startTime:86400;var c=d(t[s],r,i);a=[].concat(o()(a),o()(c))}return a}(function(e,t){for(var n=t[0].id,a=[],r=[],i=[],c=0;c<e.length;c++)e[c].id===n||e[c].firstSegmentId===n?r.push(e[c]):a.push(e[c]);for(var o=0;o<t.length;o++){var l=t[o].id;if(null===l)i.push(s({},t[o]));else for(var u=0;u<r.length;u++)if(r[u].id===l){var d=r[u].startTime,m=s({},t[o]);m.startTime=d,i.push(m)}}return[].concat(a,i).sort((function(e,t){var n=0;return e.startTime>t.startTime&&(n=1),e.startTime<t.startTime&&(n=-1),n}))}(e,t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(2),r=n.n(a),i=n(3),s=n.n(i),c=n(0),o=n.n(c),l=n(1),u=(n(147),n(7)),d=n(15),m=n(4),f=n(11),p=function(e){var t={backgroundColor:"#ffffff00",color:"#ffffff00"},n=m.a.getState().layout,a=n.eventListById,r=n.categoryListById;if(a[e]){var i=a[e],s=i.type,c=i.category_id;if(r[c]){var o=r[c],l=o.colorBG,u=o.colorText;s===f.e.FILE?(t.backgroundColor=l,t.color=u):s===f.e.BLOCK&&(t.backgroundColor="#ffffff00",t.color="#000000",t.borderColor=l)}}return t},v=function(e){var t=e.cutPart,n=e.durationTime,a=e.firstSegmentId,r=e.id,i=void 0===r?null:r,l=e.isKeyPoint,u=e.notes,m=e.startTime,f=e.eventId,v=e.eventListById,y=e.categoryListById,h=Object(c.useState)(""),g=s()(h,2),E=g[0],b=g[1],O=Object(c.useState)(""),_=s()(O,2),C=_[0],S=_[1],j=Object(c.useState)(""),I=s()(j,2),N=I[0],L=I[1];return Object(c.useEffect)((function(){if(null===f)b(""),S(""),L("");else if(v[f]){var e=v[f],t=e.category_id,n=e.name,a=e.notes;if(y[t]){var r=y[t].prefix;b(r),S(n),L(a)}else b(""),S(""),L("")}}),[t,n,a,i,l,u,m,f]),o.a.createElement("div",{className:"appearanceOfASingleGridEvent"},o.a.createElement("div",{className:"AOASGE_wrap"},o.a.createElement("div",{className:"AOASGE_Time"},o.a.createElement("span",{className:"AOASGE_Time_time ".concat(l?"isKeyPoint":"")},Object(d.a)(m)),o.a.createElement("span",{className:"AOASGE_Time_duration"},Object(d.a)(n))),o.a.createElement("div",{className:"AOASGE_Body"},o.a.createElement("div",{className:"AOASGE_PrefixItem"},o.a.createElement("span",null,E)),o.a.createElement("div",{className:"AOASGE_EventNameItem"},o.a.createElement("input",{type:"text",value:C,maxLength:255,onChange:function(){},style:p(f)}),null!==t?o.a.createElement("div",{className:"curPartName"},o.a.createElement("span",null,o.a.createElement("span",{className:"icon icon-scissors"}),o.a.createElement("span",{className:"num"},t))):""),o.a.createElement("div",{className:"AOASGE_EventNotesItem"},o.a.createElement("input",{type:"text",value:N,onChange:function(){}})))))};function y(e){var t=Object(l.c)(u.b);Object(l.b)();return o.a.createElement(v,r()({},e,{eventListById:t.eventListById,categoryListById:t.categoryListById}))}},function(e,t){},,,,,,,,function(e,t,n){var a=n(5),r=n(128);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(130);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(132);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(134);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(136);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(138);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(140);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(142);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(144);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(146);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(148);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(150);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(152);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(154);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(156);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(158);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(160);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(162);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(164);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(166);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(168);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(170);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(172);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(174);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(176);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(178);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t){},function(e,t,n){var a=n(5),r=n(181);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(5),r=n(313);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(315);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(317);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(319);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(321);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(323);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(325);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(327);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(329);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(331);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(333);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(335);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(337);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(339);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(341);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(343);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(345);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(347);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,function(e,t,n){var a=n(5),r=n(351);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(353);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(355);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(357);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(359);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(361);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(363);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(365);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(367);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(369);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(371);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(373);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(375);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(377);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(379);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(381);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(383);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(385);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(387);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(389);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(391);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(393);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(395);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(397);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(399);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(401);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(403);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(405);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(407);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(409);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(411);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(413);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(415);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,,function(e,t,n){var a=n(5),r=n(420);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(422);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(424);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(426);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(428);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(430);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(432);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(434);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(436);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(438);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(440);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(442);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},function(e,t,n){var a=n(5),r=n(444);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(51),s=n(34),c=n(1),o=n(4),l=(n(312),n(19)),u=n.n(l),d=(n(314),n(45)),m=n(3),f=n.n(m),p=(n(316),n(318),function(e){e.isOpen;var t=e.setIsOpen;return r.a.createElement("div",{className:"calendarButton",onClick:function(){t(!0)}},r.a.createElement("span",{className:"fa-calendar"}))});function v(e){return r.a.createElement(p,e)}n(320),n(322);var y=function(e){var t=e.setIsOpen;return r.a.createElement("div",{className:"dropDownTable_Close"},r.a.createElement("span",{onClick:function(){t(!1)}},"×"))};function h(e){return r.a.createElement(y,e)}var g=n(2),E=n.n(g),b=(n(324),n(22)),O=n(78),_=function(e){var t=e.calendarMonth,n=e.calendarYear,a=e.setCalendarMonth,i=e.setCalendarYear,s=e.setMonthCalendar;return r.a.createElement("div",{className:"dropDownTable_monthBtn"},r.a.createElement("div",{className:"monthBtn_wrap"},r.a.createElement("span",{className:"DDT_M_year"},n),r.a.createElement("span",{className:"DDT_M_month"},O.a[t]),r.a.createElement("span",{onClick:function(){var e=0,r=0;t>0?(r=n,e=t-1):(r=n-1,e=11),i(r),a(e),s({year:r,month:e})},className:"DDT_M_btn"},r.a.createElement("span",{className:"icon-angle-left"})),r.a.createElement("span",{className:"DDT_M_btn",onClick:function(){var e=0,r=0;t<11?(r=n,e=t+1):(r=n+1,e=0),i(r),a(e),s({year:r,month:e})}},r.a.createElement("span",{className:"icon-angle-right"}))))};function C(e){var t=Object(c.c)(b.b),n=Object(c.b)();return r.a.createElement(_,E()({},e,{calendarMonth:t.calendarMonth,calendarYear:t.calendarYear,setCalendarMonth:function(e){n(Object(b.d)(e))},setCalendarYear:function(e){n(Object(b.e)(e))},setMonthCalendar:function(e){n(Object(b.m)(e))}}))}n(326);var S=function(e){var t=e.setIsOpen,n=e.calendarMonth,a=e.calendarYear,i=e.currentMonth,s=e.currentYear,c=e.monthCalendar,o=e.currentDate,l=(e.setCalendarMonth,e.setCalendarYear,e.setCurrentDate),u=e.setCurrentMonth,d=e.setCurrentYear,m=e.setCurrentDayNum,f=function(e,c){for(var f=n===i&&a===s,p=[],v=7*e;v<7*e+7;v++)p.push(c[v]);if(void 0===p[0])return"";var y=p.map((function(e,i){var s="",c="",p="";return void 0!==e&&(s=e.date,c=e.day,p=f&&o===s?"isSelected":""),r.a.createElement("td",{key:i,className:p,onClick:function(){!function(e,r){l(e),u(n),d(a),t(!1),m(r-1)}(s,c)}},s)}));return r.a.createElement("tr",null,y)};return r.a.createElement("div",{className:"dropDownTable_Table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Пн"),r.a.createElement("th",null,"Вт"),r.a.createElement("th",null,"Ср"),r.a.createElement("th",null,"Чт"),r.a.createElement("th",null,"Пт"),r.a.createElement("th",null,"Сб"),r.a.createElement("th",null,"Вс"))),r.a.createElement("tbody",null,f(0,c),f(1,c),f(2,c),f(3,c),f(4,c),f(5,c))))};function j(e){var t=Object(c.c)(b.b),n=Object(c.b)();return r.a.createElement(S,E()({},e,{calendarMonth:t.calendarMonth,calendarYear:t.calendarYear,monthCalendar:t.monthCalendar,currentMonth:t.currentMonth,currentYear:t.currentYear,currentDate:t.currentDate,setCalendarMonth:function(e){n(Object(b.d)(e))},setCalendarYear:function(e){n(Object(b.e)(e))},setCurrentDate:function(e){n(Object(b.f)(e))},setCurrentMonth:function(e){n(Object(b.h)(e))},setCurrentYear:function(e){n(Object(b.i)(e))},setCurrentDayNum:function(e){n(Object(b.g)(e))}}))}var I=function(e){var t=e.isOpen,n=e.setIsOpen;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"dropDownTable"},r.a.createElement(h,{setIsOpen:n}),r.a.createElement(C,null),r.a.createElement(j,{setIsOpen:n})):"")};function N(e){return r.a.createElement(I,e)}n(328);var L=n(38),T=function(e){var t=e.setIsOpen,n=e.currentDayNum;return r.a.createElement("div",{className:"SC_CurrentDay",onClick:function(){t(!0)}},r.a.createElement("span",null,L.c[n]))};function D(e){var t=Object(c.c)(b.b);return r.a.createElement(T,E()({},e,{currentDayNum:t.currentDayNum}))}n(330);var P=function(e){var t=e.setIsOpen,n=e.currentYear,a=e.currentMonth,i=e.currentDate;return r.a.createElement("div",{className:"SC_CurrentDate",onClick:function(){t(!0)}},r.a.createElement("span",null,i),r.a.createElement("span",null,O.a[a]),r.a.createElement("span",null,n))};function A(e){var t=Object(c.c)(b.b);return r.a.createElement(P,E()({},e,{currentYear:t.currentYear,currentMonth:t.currentMonth,currentDate:t.currentDate}))}var w=function(e){u()(e);var t=Object(a.useState)(!1),n=f()(t,2),i=n[0],s=n[1];return r.a.createElement("div",{className:"scheduleCalendar"},r.a.createElement(v,{isOpen:i,setIsOpen:s}),r.a.createElement(A,{setIsOpen:s}),r.a.createElement(D,{setIsOpen:s}),r.a.createElement(N,{isOpen:i,setIsOpen:s}))};function M(e){return r.a.createElement(w,e)}n(332);var B=function(e){var t=e.children;return r.a.createElement("div",{className:"scheduleBody"},t)};function k(e){return r.a.createElement(B,e)}n(334);var x=n(115),R=function(e){u()(e);var t,n=Object(a.useState)(!1),i=f()(n,2),s=i[0],c=i[1];return r.a.createElement("div",{className:"scheduleStatistics"},r.a.createElement("div",{className:"SS_body ".concat(s?"open":"")},r.a.createElement(x.a,null)),r.a.createElement("div",{className:"SS_btn",onClick:function(){c(!s)}},r.a.createElement("span",{className:(t=s,t?"icon-angle-left":"icon-angle-right")})))};function G(e){return r.a.createElement(R,e)}n(336);var F=function(e){var t=e.children;return r.a.createElement("div",{className:"scheduleCenter"},t)};function Y(e){return r.a.createElement(F,e)}n(338);var H=function(e){var t=e.children;return r.a.createElement("div",{className:"S_CenterTopButtons"},t)};function U(e){return r.a.createElement(H,e)}n(340);var K=function(e){var t=e.children;return r.a.createElement("div",{className:"S_CenterBody"},t)};function W(e){return r.a.createElement(K,e)}n(342);var q=function(e){var t=e.children;return r.a.createElement("div",{className:"scheduleRight",style:{display:"none"}},t)};function z(e){return r.a.createElement(q,e)}n(344);var X=function(e){var t=e.children;return r.a.createElement("div",{className:"scheduleTopPanel"},t)};function V(e){return r.a.createElement(X,e)}var Z=n(81),J=function(e){var t=e.children,n=e.setCalendarYear,i=e.setCalendarMonth,s=e.setCalendarDate,c=e.setCurrentDate,o=e.setCurrentDayNum,l=e.setCurrentMonth,u=e.setCurrentYear,d=e.setMonthCalendar,m=Object(a.useState)(!1),p=f()(m,2),v=p[0],y=p[1];return Object(a.useEffect)((function(){var e=(new Date).getTime()/1e3,t=Object(Z.a)(e),a=t.date,r=t.dayNum,m=t.month,f=t.year;n(f),i(m),s(a),c(a),o(r),l(m),u(f),d({year:f,month:m}),y(!0)}),[]),r.a.createElement(r.a.Fragment,null,v?t:"")};function $(e){Object(c.c)(b.b);var t=Object(c.b)();return r.a.createElement(J,E()({},e,{setCalendarMonth:function(e){t(Object(b.d)(e))},setCalendarYear:function(e){t(Object(b.e)(e))},setCalendarDate:function(e){t(Object(b.c)(e))},setCurrentDate:function(e){t(Object(b.f)(e))},setCurrentDayNum:function(e){t(Object(b.g)(e))},setCurrentMonth:function(e){t(Object(b.h)(e))},setCurrentYear:function(e){t(Object(b.i)(e))},setMonthCalendar:function(e){t(Object(b.m)(e))}}))}n(346);var Q=n(7),ee=n(14),te=n(40),ne=n(23),ae=n(8),re=n.n(ae);var ie=n(17),se=n.n(ie),ce=n(18),oe=n.n(ce),le=n(32),ue=n.n(le),de=n(24),me=n.n(de),fe=n(33),pe=n.n(fe),ve=n(11);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(){return oe()((function e(t){se()(this,e),this.GetGridEventsList=this.GetGridEventsList.bind(this),this.GetScheduleEventsList=this.GetScheduleEventsList.bind(this),this.SetLastGridEventId=this.SetLastGridEventId.bind(this),this.SortList=this.SortList.bind(this),this.GetEventData=this.GetEventData.bind(this),this.GetEventParts=this.GetEventParts.bind(this),this.GetEventType=this.GetEventType.bind(this),this.GetReleaseData=this.GetReleaseData.bind(this)}),[{key:"GetGridEventsList",value:function(){for(var e=o.a.getState(),t=e.layout,n=e.scheduleResult,a=t.gridDayEventsList,r=n.currentDayNum,i=[],s=0;s<a[r].length;s++)i.push(he({},a[r][s]));return i}},{key:"GetScheduleEventsList",value:function(){for(var e=[],t=0;t<this.list.length;t++)e.push(this.list[t].GetData());return e}},{key:"SetLastGridEventId",value:function(e){var t=e.id,n=e.gridEventId;null!==t?this.lastGridEventId<t&&(this.lastGridEventId=t):null!==n&&this.lastGridEventId<n&&(this.lastGridEventId=n)}},{key:"SortList",value:function(){var e=this.list.sort((function(e,t){return e.startTime>t.startTime?1:-1}));this.list=e}},{key:"GetEventData",value:function(e){for(var t=null,n=0;n<this.list.length;n++)if(this.list[n].gridEventId===e){t=this.list[n];break}return t}},{key:"GetReleaseData",value:function(e){var t=null,n=o.a.getState().scheduleResult.releaseListById;return n[e]&&(t=n[e]),t}},{key:"GetEventParts",value:function(e){for(var t=[],n=0;n<this.list.length;n++)this.list[n].firstSegmentId===e&&t.push(this.list[n]);return t}},{key:"GetEventType",value:function(e){var t=ve.e.FILE,n=o.a.getState().layout.eventListById;n[e]&&(t=n[e].type);return t}}])}();function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var be=function(e){var t=o.a.getState().scheduleResult.releaseListById,n=null;return t[e]&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e])),n},Oe=function(){return oe()((function e(t){se()(this,e),this.YYYY_MM_DD=null,this.air_notes=null,this.applicationName=null,this.application_id=null,this.category_id=null,this.event_id=null,this.file_list=null,this.grid_event_id=null,this.id=null,this.manager_id=null,this.releaseDuration=null,this.releaseName=null,this.startTime=null,this.sub_application_id=null,this.force_event_id=null,this.GetDurationTime=this.GetDurationTime.bind(this),this.GetData=this.GetData.bind(this),this.AddRelease=this.AddRelease.bind(this),this.AddReleaseByData=this.AddReleaseByData.bind(this)}),[{key:"AddRelease",value:function(e){var t=be(e);if(null!==t){var n=t.YYYY_MM_DD,a=t.air_notes,r=t.applicationName,i=t.application_id,s=t.category_id,c=t.event_id,o=t.file_list,l=t.grid_event_id,u=t.id,d=t.manager_id,m=t.releaseDuration,f=t.releaseName,p=t.startTime,v=t.sub_application_id,y=t.force_event_id;this.YYYY_MM_DD=n,this.air_notes=a,this.applicationName=r,this.application_id=i,this.category_id=s,this.event_id=c,this.file_list=o,this.grid_event_id=l,this.id=u,this.manager_id=d,this.releaseDuration=m,this.releaseName=f,this.startTime=p,this.sub_application_id=v,this.force_event_id=y}}},{key:"AddReleaseByData",value:function(e){var t=e.YYYY_MM_DD,n=e.air_notes,a=e.applicationName,r=e.application_id,i=e.category_id,s=e.event_id,c=e.file_list,o=e.grid_event_id,l=e.id,u=e.manager_id,d=e.releaseDuration,m=e.releaseName,f=e.startTime,p=e.sub_application_id,v=e.force_event_id;this.YYYY_MM_DD=t,this.air_notes=n,this.applicationName=a,this.application_id=r,this.category_id=i,this.event_id=s,this.file_list=c,this.grid_event_id=o,this.id=l,this.manager_id=u,this.releaseDuration=d,this.releaseName=m,this.startTime=f,this.sub_application_id=p,this.force_event_id=v}},{key:"GetData",value:function(){return{YYYY_MM_DD:this.YYYY_MM_DD,air_notes:this.air_notes,applicationName:this.applicationName,application_id:this.application_id,category_id:this.category_id,event_id:this.event_id,file_list:this.file_list,grid_event_id:this.grid_event_id,id:this.id,manager_id:this.manager_id,releaseDuration:this.releaseDuration,releaseName:this.releaseName,startTime:this.startTime,sub_application_id:this.sub_application_id,force_event_id:this.force_event_id}}},{key:"GetDurationTime",value:function(){return this.releaseDuration}}])}();function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ce=function(e){var t=o.a.getState(),n=t.scheduleResult,a=t.layout,r=(n.scheduleEventsListByGridEventId,a.gridDayEventsListById),i=null;return r[e]&&(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r[e])),i};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var je=function(e){var t=o.a.getState().layout.eventListById,n={};return t[e]?n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e]):alert("Пожалуйста, создайте расписанеи заново. В макете было удалено одно, или более событий, а это приведёт к полученных неточности данных"),n};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(){return oe()((function e(){se()(this,e),this.cutPart=null,this.dayNum=null,this.durationTime=null,this.eventId=null,this.firstSegmentId=null,this.id=null,this.gridEventId=null,this.isKeyPoint=null,this.is_premiere=null,this.notes=null,this.pushIt=null,this.startTime=null,this.releases=null,this.releaseList=[],this.finalNotes="",this.GetData=this.GetData.bind(this),this.SetDataFromGridEvent=this.SetDataFromGridEvent.bind(this),this.SetDataFromScheduleEvent=this.SetDataFromScheduleEvent.bind(this),this.AddRelease=this.AddRelease.bind(this),this.UpdateDurationTime=this.UpdateDurationTime.bind(this),this.SetIdIfNull=this.SetIdIfNull.bind(this),this.RemoveRelease=this.RemoveRelease.bind(this),this.AddReleaseByData=this.AddReleaseByData.bind(this),this.UpdateEventData=this.UpdateEventData.bind(this),this.UpdateFinalNotes=this.UpdateFinalNotes.bind(this),this.MoveUp=this.MoveUp.bind(this),this.MoveDown=this.MoveDown.bind(this)}),[{key:"SetDataFromGridEvent",value:function(e){var t=e.cutPart,n=e.dayNum,a=e.durationTime,r=e.eventId,i=e.firstSegmentId,s=e.id,c=e.isKeyPoint,o=e.is_premiere,l=e.notes,u=e.pushIt,d=e.startTime;this.cutPart=t,this.dayNum=n,this.durationTime=a,this.eventId=r,this.firstSegmentId=i,this.id=s,this.gridEventId=s,this.isKeyPoint=c,this.is_premiere=o,this.notes=l,this.pushIt=u,this.startTime=d,this.releases=[],this.releaseList=[];var m=je(this.eventId).type;m&&m===ve.e.BLOCK&&(this.durationTime=ve.g)}},{key:"SetDataFromScheduleEvent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.cutPart,a=e.dayNum,r=e.durationTime,i=e.eventId,s=e.firstSegmentId,c=e.id,o=e.gridEventId,l=e.isKeyPoint,u=e.is_premiere,d=e.notes,m=e.pushIt,f=e.startTime,p=e.releases,v=e.finalNotes;if(t)for(var y=0;y<p.length;y++){p[y].id;var h=Ne({},p[y]);this.AddReleaseByData(h)}this.cutPart=n,this.dayNum=a,this.durationTime=r,this.eventId=i,this.firstSegmentId=s,this.id=c,this.gridEventId=o,this.isKeyPoint=l,this.is_premiere=u,this.notes=d,this.pushIt=m,this.startTime=f,this.releases=[],this.finalNotes=v}},{key:"GetData",value:function(){for(var e=[],t=0;t<this.releaseList.length;t++)e.push(this.releaseList[t].GetData());return{cutPart:this.cutPart,dayNum:this.dayNum,durationTime:this.durationTime,eventId:this.eventId,firstSegmentId:this.firstSegmentId,id:this.id,gridEventId:this.gridEventId,isKeyPoint:this.isKeyPoint,is_premiere:this.is_premiere,notes:this.notes,pushIt:this.pushIt,startTime:this.startTime,releases:e,finalNotes:this.finalNotes}}},{key:"AddRelease",value:function(e){var t=new Oe;t.AddRelease(e),this.releaseList.push(t)}},{key:"AddReleaseByData",value:function(e){var t=new Oe;t.AddReleaseByData(e),this.releaseList.push(t)}},{key:"RemoveRelease",value:function(e){for(var t=[],n=0;n<this.releaseList.length;n++)this.releaseList[n].id===e||t.push(this.releaseList[n]);this.releaseList=t}},{key:"MoveUp",value:function(e){for(var t=[],n=0;n<this.releaseList.length;n++)if(this.releaseList[n].id===e)if(n>0){var a=Ne({},t[n-1]);t.pop(),t.push(this.releaseList[n]),t.push(a)}else t.push(this.releaseList[n]);else t.push(this.releaseList[n]);this.releaseList=t}},{key:"MoveDown",value:function(e){for(var t=[],n=null,a=0;a<this.releaseList.length;a++)n!==a&&(this.releaseList[a].id===e&&this.releaseList[a+1]?(n=a+1,t.push(this.releaseList[a+1]),t.push(this.releaseList[a])):t.push(this.releaseList[a]));this.releaseList=t}},{key:"UpdateDurationTime",value:function(){var e=je(this.eventId).type;if(e){var t=0;if(this.releaseList.length>0)for(var n=0;n<this.releaseList.length;n++)t+=this.releaseList[n].GetDurationTime();else if(e===ve.e.BLOCK)t=ve.g;else if(null!==this.gridEventId){var a=Ce(this.gridEventId);t=null===a?this.durationTime:a.durationTime}else t=this.durationTime;this.durationTime=t}}},{key:"UpdateEventData",value:function(){this.UpdateDurationTime(),this.UpdateFinalNotes()}},{key:"UpdateFinalNotes",value:function(){var e=je(this.eventId).type;if(e)if(e===ve.e.BLOCK)this.finalNotes=this.notes;else{for(var t="",n=0;n<this.releaseList.length;n++)t="".concat(t," ").concat(this.releaseList[n].air_notes);this.finalNotes="".concat(this.notes," ").concat(t)}}},{key:"SetIdIfNull",value:function(e){null!==this.gridEventId&&null!==this.id||(this.gridEventId=e,this.id=e)}}])}();function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ae=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t.type=ve.f.COMPLETED,t},we=function(e,t){var n=e,a=t-e,r={type:ve.f.EMPTY,startTime:n,durationTime:a};return r.type=ve.f.EMPTY,r},Me=n(28),Be=n.n(Me);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){for(var t=[],n=0;n<e.length;n++)0===n?(t.push([]),t[t.length-1].push(e[0])):(!0===e[n].isKeyPoint&&t.push([]),t[t.length-1].push(e[n]));for(var a=[],r=0,i=86399,s=0;s<t.length;s++){0!==s&&(r=t[s][0].startTime),i=t[s+1]?t[s+1][0].startTime:86400;var c=Ge(t[s],r,i);a=[].concat(Be()(a),Be()(c))}return a};function Ge(e,t,n){for(var a=[],r=[],i=e[0].startTime,s=0;s<e.length;s++){var c=e[s],o=c.startTime,l=c.durationTime;if(o>=i)r.push(xe({},e[s]));else{var u=xe({},e[s]);u.startTime=i,r.push(xe({},u))}i=o+l+1}var d=r[r.length-1].durationTime;if(r[r.length-1].startTime+d<n)a=r;else{for(var m=[],f=n,p=r.length-1;p>=0;p--){var v=r[p],y=v.startTime;if(y>(f=f-v.durationTime-1)){var h=xe({},r[p]);h.startTime=f,m.push(xe({},h))}else m.push(xe({},r[p])),f=y}a=m.sort((function(e,t){return e.startTime>t.startTime?1:-1}))}return a}var Fe=n(116);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t=me()(t),ue()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],me()(e).constructor):t.apply(e,n))}var Ke=function(e){function t(e){var n;return se()(this,t),(n=Ue(this,t,[e])).list=[],n.lastGridEventId=function(){for(var e=o.a.getState().layout.gridDayEventsList,t=0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++){var r=e[n][a].id;r>t&&(t=r)}return t>0&&(t+=500),t}(),n.CreateFromGridEvents=n.CreateFromGridEvents.bind(n),n.SetListToStore=n.SetListToStore.bind(n),n.CreateFromScheduleEventsList=n.CreateFromScheduleEventsList.bind(n),n.GetListBySectors=n.GetListBySectors.bind(n),n.AddRelease=n.AddRelease.bind(n),n.RemoveRelease=n.RemoveRelease.bind(n),n.AddAllReleases=n.AddAllReleases.bind(n),n.AddAllRemainingReleases=n.AddAllRemainingReleases.bind(n),n.RemoveEvent=n.RemoveEvent.bind(n),n.AddEvent=n.AddEvent.bind(n),n.GetAllUsedEvents=n.GetAllUsedEvents.bind(n),n.SetCounterDataToStore=n.SetCounterDataToStore.bind(n),n.ReleaseMoveUp=n.ReleaseMoveUp.bind(n),n.ReleaseMoveDown=n.ReleaseMoveDown.bind(n),n.UpdateData=n.UpdateData.bind(n),n}return pe()(t,e),oe()(t,[{key:"CreateFromGridEvents",value:function(){for(var e=this.GetGridEventsList(),t=0;t<e.length;t++){var n=new Le;n.SetDataFromGridEvent(e[t]),this.list.push(n),this.SetLastGridEventId(n)}}},{key:"CreateFromScheduleEventsList",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<e.length;n++){var a=new Le;a.SetDataFromScheduleEvent(e[n],t),this.list.push(a),this.SetLastGridEventId(a)}for(var r=0;r<this.list.length;r++)this.list[r].SetIdIfNull(this.lastGridEventId+1),this.SetLastGridEventId(this.list[r])}},{key:"AddEvent",value:function(e){var t=e.gridCurrentDay,n=e.isAKeyPoint,a=e.startTime,r=e.eventId,i=e.durationTime,s=this.lastGridEventId+1,c=new Le;return c.SetDataFromGridEvent({cutPart:null,dayNum:t,durationTime:i,eventId:r,firstSegmentId:null,id:s,isKeyPoint:n,is_premiere:!1,notes:"",pushIt:null,startTime:a}),this.list.push(c),this.SetLastGridEventId(c),this.SortList(),c}},{key:"GetListBySectors",value:function(){return function(e){for(var t=[],n=0;n<e.length;n++){for(var a=e[n],r=a.sector_start_time,i=a.sector_completed_duration,s=a.sector_duration,c=a.sector_list,o=[],l=r,u=0;u<c.length;u++){var d=c[u],m=d.startTime,f=d.durationTime;if(m===r)o.push(Ae(c[u])),l=l+f+1;else{if(m>l){var p=we(l,m);o.push(p)}o.push(Ae(c[u])),l=m+f+1}if(u===c.length-1&&r+s+1>l){var v=we(l,r+s);o.push(v)}}t.push({sector_start_time:r,sector_completed_duration:i,sector_duration:s,sector_list:o})}if(1===t.length&&0===t[0].sector_list.length){var y=t[0].sector_duration;t[0].sector_list.push(we(0,y))}return t}(function(e){for(var t=[{sector_list:[],sector_start_time:0,sector_duration:86399,sector_completed_duration:0}],n=0;n<e.length;n++){var a=e[n],r=a.isKeyPoint,i=a.startTime,s=a.durationTime;0!==n&&r&&(t[t.length-1].sector_duration=i-1-t[t.length-1].sector_start_time,t.push({sector_start_time:i,sector_completed_duration:0,sector_duration:86399-i,sector_list:[]}));var c=t.length-1;t[c].sector_list.push(De({},e[n])),t[c].sector_completed_duration=t[c].sector_completed_duration+s}return t}(this.GetScheduleEventsList()))}},{key:"SetCounterDataToStore",value:function(e){var t=new Fe.a;t.CreateTypeDay(e),t.CreateTypeHour(e),t.SetToStore()}},{key:"SetListToStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.GetScheduleEventsList(),n=Re(t);o.a.dispatch(Object(b.q)(n)),null!==e&&o.a.dispatch(Object(b.r)(e)),this.SetCounterDataToStore(n)}},{key:"AddRelease",value:function(e,t){var n=this.GetEventData(e),a=this.GetReleaseData(t);if(function(e){var t=e.Event,n=e.releaseData,a=e.list,r=t.gridEventId,i=t.isKeyPoint,s=n.releaseDuration,c=0,o=86400,l=0,u=0;if(i){for(var d=!1,m=0;m<a.length;m++)if(a[m].gridEventId===r)l=m,c=a[m].startTime,d=!0;else if(d){if(a[m].isKeyPoint){u=m-1,o=a[m].startTime;break}a[m+1]||d&&(u=m,o=86400)}}else for(var f=!1,p=0;p<a.length;p++)if(a[p].gridEventId===r){if(0===p)l=0,c=0;else for(var v=p;v>=0;v--){if(a[v].isKeyPoint){l=v,c=a[v].startTime;break}0===v&&f&&(l=0,c=0)}f=!0}else if(f){if(a[p].isKeyPoint){u=p-1,o=a[p].startTime;break}a[p+1]||(u=p,o=86400)}for(var y=0,h=l;h<u+1;h++){var g=a[h],E=g.durationTime,b=g.releaseList;if(0===b.length)a[h].gridEventId===r||(y+=E);else for(var O=0;O<b.length;O++){y+=b[O].releaseDuration}a[h].gridEventId===r&&(y+=s)}return o-c-y}({Event:n,releaseData:a,list:this.list})>=0&&n)if(null===n.firstSegmentId)(this.GetEventType(n.eventId)===ve.e.BLOCK||0===n.releases.length)&&(n.AddRelease(t),n.UpdateEventData());else if(n.gridEventId===e){for(var r=this.GetEventParts(e),i=a.releaseDuration,s=(a.applicationName,a.releaseName),c=i,o=[],l=0;l<r.length;l++){var u=r[l],d=u.durationTime;if(0===u.releases.length){var m=0;if(c>=d&&r[l+1]?(m=d,c-=d):(m=c,c=0),m>0){var f=He({},a);f.releaseDuration=m,f.releaseName="".concat(s," (Порезка ").concat(l+1,")"),r[l].AddReleaseByData(f),r[l].UpdateEventData()}else{var p=r[l].gridEventId;o.push(p)}}}for(var v=0;v<o.length;v++)this.RemoveEvent(o[v])}}},{key:"RemoveRelease",value:function(e,t){for(var n=0;n<this.list.length;n++)if(this.list[n].gridEventId===e){this.list[n].RemoveRelease(t),this.list[n].UpdateEventData();break}}},{key:"ReleaseMoveUp",value:function(e,t){for(var n=0;n<this.list.length;n++)if(this.list[n].gridEventId===e){this.list[n].MoveUp(t),this.list[n].UpdateEventData();break}}},{key:"ReleaseMoveDown",value:function(e,t){for(var n=0;n<this.list.length;n++)if(this.list[n].gridEventId===e){this.list[n].MoveDown(t),this.list[n].UpdateEventData();break}}},{key:"AddAllReleases",value:function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=a.grid_event_id,i=a.id;null!==r&&(t[r]?t[r].push(i):t[r]=[i])}for(var s=0;s<this.list.length;s++){var c=this.list[s].gridEventId;if(null!==c&&t[c])for(var o=0;o<t[c].length;o++){var l=t[c][o];this.AddRelease(c,l),this.list[s].UpdateEventData()}}}},{key:"UpdateData",value:function(){for(var e=0;e<this.list.length;e++)this.list[e].UpdateEventData()}},{key:"AddAllRemainingReleases",value:function(e,t){for(var n={},a=0;a<e.length;a++){var r=e[a],i=r.grid_event_id,s=r.id;null!==i&&(t[s]||(n[i]?n[i].push(s):n[i]=[s]))}for(var c=0;c<this.list.length;c++){var o=this.list[c].gridEventId;if(null!==o&&n[o])for(var l=0;l<n[o].length;l++){var u=n[o][l];this.AddRelease(o,u),this.list[c].UpdateEventData()}}}},{key:"RemoveEvent",value:function(e){for(var t=[],n=0;n<this.list.length;n++)this.list[n].gridEventId===e||t.push(this.list[n]);this.list=t}},{key:"GetAllUsedEvents",value:function(){for(var e={},t=0;t<this.list.length;t++){e[this.list[t].eventId]=!0}var n=[];for(var a in e)n.push(a);return n}}])}(ge);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e,t){for(var n={},a={},r=0;r<e.length;r++){var i=e[r],s=i.id,c=i.grid_event_id;n[s]=qe({},e[r]),a[c]=qe({},e[r])}var l=function(e,t){for(var n=[],a=!1,r=0;r<e.length;r++){var i=structuredClone(e[r]);i.releases=[];for(var s=0;s<e[r].releases.length;s++){var c=e[r].releases[s].id;if(t[c]){var l=qe(qe({},e[r].releases[s]),t[c]);null===l.air_notes&&(l.air_notes=""),i.releases.push(l)}else a=!0}n.push(i)}if(a){o.a.dispatch(Object(b.l)("Внимание! В расписании есть изменённые заявки! Возможно, требуется корректировка времени выхода роликов"))}return n}(t,n),u=new Ke;u.CreateFromScheduleEventsList(l),u.UpdateData(),u.SetListToStore(),o.a.dispatch(Object(b.n)(e)),o.a.dispatch(Object(b.p)(n)),o.a.dispatch(Object(b.o)(a))};var Xe=function(e){var t=e.children,n=e.currentDate,i=e.currentMonth,s=e.currentYear,c=e.currentDayNum,o=e.setSpinnerIsActive,l=e.setGridCurrentDay;e.setScheduleEventsList;return Object(a.useEffect)((function(){var e=Object(te.a)(s,i,n);o(!0);var t=function(){Object(ne.a)({route:"get-schedule-result-day-data",data:{YYYY_MM_DD:e},successCallback:function(e){if(console.dir("response"),console.dir(e),e.ok){o(!1);var n=e.release_list,a=e.scheduleEventsList;ze(n,a),l(c)}else t()},errorCallback:function(){t()}})};t()}),[n,i,s]),r.a.createElement(r.a.Fragment,null,t)};function Ve(e){var t=Object(c.c)(b.b),n=Object(c.b)();return r.a.createElement(Xe,E()({},e,{currentDate:t.currentDate,currentMonth:t.currentMonth,currentYear:t.currentYear,currentDayNum:t.currentDayNum,setSpinnerIsActive:function(e){n(Object(ee.c)(e))},setGridCurrentDay:function(e){n(Object(Q.j)(e))},setScheduleEventsList:function(e){n(Object(b.q)(e))}}))}n(350);var Ze=n(36),Je=n(37),$e=(n(352),n(15)),Qe=(n(354),n(356),function(e){var t=e.durationTime,n=e.eventId,a=e.eventType,r=e.gridEventId,i=e.isEmpty;e.isCompletd;return i?function(e){var t=e.durationTime,n=!1,a=o.a.getState().scheduleResult;return t>=a.releaseListById[a.dragebleReleaseId].releaseDuration&&(n=!0),n}({durationTime:t}):function(e){var t=e.eventId,n=e.eventType,a=e.gridEventId,r=!1,i=o.a.getState().scheduleResult,s=i.dragebleReleaseEventId,c=i.scheduleEventsListByGridEventId;if(null!==s){if(s===t)if(n===ve.e.BLOCK)r=!0;else{var l=c[a],u=l.releases,d=l.firstSegmentId;null!==d&&d!==a||0===u.length&&(r=!0)}}else if(n===ve.e.BLOCK)r=!0;else{var m=c[a],f=m.releases,p=m.firstSegmentId;null!==p&&p!==a||0===f.length&&(r=!0)}return r}({eventId:n,eventType:a,gridEventId:r})}),et=(n(358),n(360),n(114));function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){for(var a=o.a.getState(),r=a.scheduleResult,i=r.scheduleEventsList,s=[],c=0;c<i.length;c++)i[c].gridEventId===e?s.push(nt(nt({},i[c]),t)):s.push(nt({},i[c]));o.a.dispatch(Object(b.q)(s)),o.a.dispatch(Object(b.r)(!0))}},rt=function(e){var t=e.startTime,n=e.isKeyPoint,i=e.gridEventId,s=e.gridDayEventsListById,c=e.scheduleEventsList,o=Object(a.useState)(!1),l=f()(o,2),u=l[0],d=l[1],m=Object(a.useState)(0),p=f()(m,2),v=p[0],y=p[1],h=Object(a.useState)(0),g=f()(h,2),E=g[0],b=g[1],O=Object(a.useState)(0),_=f()(O,2),C=_[0],S=_[1],j=Object(a.useState)(0),I=f()(j,2),N=I[0],L=I[1],T=Object(a.useState)(null),D=f()(T,2),P=D[0],A=D[1],w=Object(a.useState)(null),M=f()(w,2);M[0],M[1];Object(a.useEffect)((function(){k()}),[i,u,c]),Object(a.useEffect)((function(){b(t)}),[t]);var B,k=function(){for(var e=0;e<c.length;e++)if(c[e].gridEventId===i){var t=c[e],n=t.durationTime,a=t.eventId,r=0,s=0;c[e-1]&&(r=c[e-1].startTime+c[e-1].durationTime+1),s=c[e+1]?c[e+1].startTime-1:86399,A(a),y(n),b(c[e].startTime),L(r),S(s);break}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{isOpen:u,setIsOpen:d,durationTime:v,startTime:E,timeSpaceTo:C,timeSpaceFrom:N,eventId:P,setStartTime:b,clickSaveHandler:function(){at(i,{startTime:E}),d(!1)}}),r.a.createElement("span",{className:"SEC_time ".concat(n?"isKeyPoint":""),onClick:function(){d(!0)}},Object($e.a)(E),s[B=i]?r.a.createElement("span",{className:"truePlanTime"},Object($e.a)(s[B].startTime)):""))};function it(e){var t=Object(c.c)(b.b),n=Object(c.c)(Q.b);return r.a.createElement(rt,E()({},e,{scheduleEventsList:t.scheduleEventsList,gridDayEventsListById:n.gridDayEventsListById}))}n(362);var st=function(e){var t=e.gridEventId,n=void 0===t?null:t,a=e.scheduleEventsList;return r.a.createElement("div",{className:"SEC_time_push"},r.a.createElement("span",{className:"icon-up-1",onClick:function(){if(null!==n)for(var e=0;e<a.length;e++)if(a[e].gridEventId===n){var t=a[e],r=(t.durationTime,t.startTime);if(a[e-1]){var i=a[e-1].startTime+a[e-1].durationTime+1;r!==i&&at(n,{startTime:i})}}}}),r.a.createElement("span",{className:"icon-down-1",onClick:function(){if(null!==n)for(var e=0;e<a.length;e++)if(a[e].gridEventId===n){var t=a[e],r=t.durationTime,i=t.startTime;if(a[e+1]){var s=a[e+1].startTime-r-1;i!==s&&at(n,{startTime:s})}}}}))};function ct(e){var t=Object(c.c)(b.b);return r.a.createElement(st,E()({},e,{scheduleEventsList:t.scheduleEventsList}))}var ot=function(e){var t=e.startTime,n=e.durationTime,a=e.isKeyPoint,i=void 0!==a&&a,s=e.gridEventId,c=void 0===s?null:s;return r.a.createElement("div",{className:"schEventItemTime"},r.a.createElement(ct,{gridEventId:c}),r.a.createElement(it,{startTime:t,isKeyPoint:i,gridEventId:c}),r.a.createElement("span",{className:"SEC_duration"},Object($e.a)(n)))};function lt(e){return r.a.createElement(ot,e)}n(364);var ut=function(e){var t=e.startTime,n=e.durationTime,a=e.isError;return r.a.createElement("div",{className:"schEventItemRemains"},r.a.createElement("span",{className:"time"},Object($e.a)(t)),r.a.createElement("span",{className:"text"},a?"Ошибка, нарушение хронометража! Превышен на ":"Свободно:"),r.a.createElement("span",{className:"time"},function(e){return e>=0?Object($e.a)(e):Object($e.a)(-1*e)}(n)))};function dt(e){return r.a.createElement(ut,e)}n(366);var mt=n(27),ft=(n(368),n(41)),pt=function(e){var t=e.eventId,n=e.setEventId,i=e.durationLimit,s=e.eventList,c=e.eventListById,o=e.alwaysOpen,l=void 0!==o&&o,u=Object(a.useState)(l),d=f()(u,2),m=d[0],p=d[1],v=function(){!1===l&&p(!m)};return r.a.createElement("div",{className:"G_ANG_SelectedEvent"},r.a.createElement("h3",null,"Событие:"),r.a.createElement("div",{className:"G_ANG_eventList_body"},r.a.createElement("h4",{onClick:v},function(e,t){var n=r.a.createElement("span",{className:"G_ANG_list_name"},"-- Не выбрано --");if(e[t]){var a=e[t],i=a.type,s=a.name,c="file"===i?"файл":"блок";n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"file"===i?"G_ANG_list_file":"G_ANG_list_block"},c),r.a.createElement("span",{className:"G_ANG_list_name"},s))}return n}(c,t)),r.a.createElement("div",{className:"G_ANG_btn",onClick:v},r.a.createElement("span",{className:"G_ANG_btn_icon ".concat(m?"icon-up-open-1":"icon-down-open-1")})),m?r.a.createElement("ul",{className:"G_ANG_eventList_list"},s.map((function(e,t){var a=e.id,s=e.type,c=e.durationTime,o=e.name,u="file"===s?"файл":"блок",d=Object(ft.a)(c)<=i;return r.a.createElement("li",{key:t,className:d?"isActive":"",onClick:function(){d&&function(e){n(e),!1===l&&p(!1)}(a)}},r.a.createElement("span",{className:"file"===s?"G_ANG_list_file":"G_ANG_list_block"},u),r.a.createElement("span",{className:"G_ANG_list_duration"},c),r.a.createElement("span",{className:"G_ANG_list_name"},o))}))):""))};function vt(e){var t=Object(c.c)(Q.b);return r.a.createElement(pt,E()({},e,{eventList:t.eventList,eventListById:t.eventListById}))}var yt=function(e){var t=e.selectedEventWindow_isOpen,n=e.setSelectedEventWindow_isOpen,a=e.alwaysOpen,i=void 0!==a&&a,s=e.selectedEventId,c=e.setSelectedEventId,o=e.durationLimit;e.setDurationLimit;return r.a.createElement(mt.a,{isOpen:t,setIsOpen:n,width:"60vw",height:"80vh",title:"Пожалуйста, выберете событие"},r.a.createElement(vt,{eventId:s,setEventId:c,durationLimit:o,alwaysOpen:i}))};function ht(e){return r.a.createElement(yt,e)}n(370);var gt=function(e){var t=e.dragebleReleaseId,n=e.isEmpty,a=e.startTime,i=e.durationTime,s=function(e,t,n){var a=t/5;return e+Math.floor(a*n+a/2)};return r.a.createElement("div",{className:"".concat(null===t||!1===n?"displayNone":"","  SEC_DropZone")},r.a.createElement("div",{className:"SEC_DropZone_0","data-drop-start-time":a}),r.a.createElement("div",{className:"SEC_DropZone_1","data-drop-start-time":s(a,i,1)}),r.a.createElement("div",{className:"SEC_DropZone_2","data-drop-start-time":s(a,i,2)}),r.a.createElement("div",{className:"SEC_DropZone_3","data-drop-start-time":s(a,i,3)}),r.a.createElement("div",{className:"SEC_DropZone_4","data-drop-start-time":a+i}))},Et=function(e){var t=e.startTime,n=e.durationTime,i=e.eventId,s=void 0===i?null:i,c=e.isCompletd,o=void 0!==c&&c,l=e.isKeyPoint,u=void 0!==l&&l,d=e.gridEventId,m=void 0===d?null:d,p=e.isEmpty,v=void 0!==p&&p,y=e.eventListById,h=e.gridCurrentDay,g=(e.releaseListById,e.dragebleReleaseId),E=e.dragebleReleaseEventId,b=e.scheduleEventsList,O=(e.scheduleEventsListByGridEventId,e.setDragebleReleaseId),_=e.children,C=Object(a.useState)(!1),S=f()(C,2),j=S[0],I=S[1],N=Object(a.useState)(""),L=f()(N,2),T=L[0],D=L[1],P=Object(a.useState)(!1),A=f()(P,2),w=A[0],M=A[1],B=Object(a.useState)(t),k=f()(B,2),x=k[0],R=k[1],G=Object(a.useState)(null),F=f()(G,2),Y=F[0],H=F[1],U=Object(a.useState)(0),K=f()(U,2),W=K[0],q=K[1],z=Object(a.useState)(0),X=f()(z,2),V=X[0],Z=X[1],J=Object(a.useState)(null),$=f()(J,2),Q=$[0],ee=$[1];Object(a.useEffect)((function(){if(y[s]){var e=y[s].type;D(e)}else null!==s&&(alert("Нужно пересоздать расписание, какое-то из событий было удалено"),D(ve.e.FILE))}),[m]),Object(a.useEffect)((function(){n>=0?(I(!1),q(n)):(I(!0),q(0))}),[n]),Object(a.useEffect)((function(){if(null!==Y&&y[Y]){var e=y[Y],t=new Ke;t.CreateFromScheduleEventsList(b);var n=t.AddEvent({gridCurrentDay:h,isAKeyPoint:!1,startTime:x,eventId:Y,durationTime:e.durationTime});t.AddRelease(n.id,Q),t.SetListToStore(!0),q(null),Z(!1),O(null)}}),[Y]);var te=function(){return Qe({durationTime:n,eventId:s,eventType:T,gridEventId:m,isEmpty:v,isCompletd:o})};return r.a.createElement("div",{className:"schEventContainer ".concat(w?"isLighter":""),onDragOver:function(e){e.preventDefault();var t=te();M(!!t)},onDragLeave:function(e){M(!1)},onDrop:function(e){if(M(!1),te())if(v){ee(g);var n=t;if(e.target.dataset.dropStartTime&&(n=Number(e.target.dataset.dropStartTime)),null===E)Z(!0),R(n);else{var a=y[E],r=new Ke;r.CreateFromScheduleEventsList(b);var i=r.AddEvent({gridCurrentDay:h,isAKeyPoint:!1,startTime:n,eventId:E,durationTime:a.durationTime});r.AddRelease(i.id,g),r.SetListToStore(!0),O(null)}}else{var s=new Ke;s.CreateFromScheduleEventsList(b),s.AddRelease(m,g),s.SetListToStore(!0),O(null)}}},r.a.createElement(ht,{selectedEventWindow_isOpen:V,setSelectedEventWindow_isOpen:Z,selectedEventId:Y,setSelectedEventId:H,durationLimit:W,alwaysOpen:!0}),r.a.createElement("div",{className:"schEventContainerWrap ".concat(o?"isCompletd":""," ").concat(j?"errorTime":"")},r.a.createElement("div",{className:"schId"},r.a.createElement("span",null,m)),o?r.a.createElement(lt,{startTime:t,isKeyPoint:u,gridEventId:m,durationTime:n}):r.a.createElement(dt,{startTime:t,isError:j,durationTime:n}),r.a.createElement("div",{className:"schEventItemBody"},_)),r.a.createElement(gt,{dragebleReleaseId:g,isEmpty:v,startTime:t,durationTime:n}))};function bt(e){var t=Object(c.c)(b.b),n=Object(c.c)(Q.b),a=Object(c.b)();return r.a.createElement(Et,E()({},e,{scheduleEventsList:t.scheduleEventsList,scheduleEventsListByGridEventId:t.scheduleEventsListByGridEventId,dragebleReleaseId:t.dragebleReleaseId,dragebleReleaseEventId:t.dragebleReleaseEventId,releaseListById:t.releaseListById,eventListById:n.eventListById,gridCurrentDay:n.gridCurrentDay,setDragebleReleaseId:function(e){a(Object(b.k)(e))}}))}var Ot=n(44),_t=function(e,t,n){var a=e/60,r=Object(Ot.a)(Math.sqrt(1.2*a),2);return"".concat(r<=t?t:r>=n?n:r,"em")},Ct=(n(372),n(374),function(e){var t=e.isAKeyOneEvent,n=e.setIsAKeyOneEvent;return r.a.createElement("div",{className:"G_ANG_GridEventType"},r.a.createElement("div",{className:"G_ANG_GridEventType_wrap",onClick:function(){n(!t)}},r.a.createElement("div",{className:"G_ANG_GridEventType_rect"},r.a.createElement("span",{className:"".concat(t?"icon-ok-3":"")})),r.a.createElement("div",{className:"G_ANG_GridEventType_text"},r.a.createElement("span",{className:"".concat(t?"isSelected":"")},"ключевая точка"))))});function St(e){return r.a.createElement(Ct,e)}n(376);var jt=n(118),It=function(e){var t=e.eventId,n=e.startTime,i=e.isAKeyOneEvent,s=e.eventListById,c=Object(a.useState)(!1),o=f()(c,2),l=o[0],u=o[1],d=Object(a.useState)(0),m=f()(d,2),p=m[0],v=m[1],y=Object(a.useState)(""),h=f()(y,2),g=h[0],E=h[1];return Object(a.useEffect)((function(){if(null===t)u(!1),v(0),E("");else{u(!0);var e=s[t],n=e.durationTime,a=e.notes;v(Object(ft.a)(n)),E(a)}}),[t]),r.a.createElement(r.a.Fragment,null,l?r.a.createElement(jt.a,{cutPart:null,durationTime:p,firstSegmentId:null,id:null,isKeyPoint:i,notes:g,startTime:n,eventId:t}):"")};function Nt(e){var t=Object(c.c)(Q.b);return r.a.createElement(It,E()({},e,{eventListById:t.eventListById}))}n(378),n(380);var Lt=!0,Tt=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,i=e.target,s=e.startTime,c=e.setTimeTarget,o=e.duration,l=e.setStartTime,u=Object(a.useState)(0),d=f()(u,2),m=d[0],p=d[1],v=Object(a.useState)(0),y=f()(v,2),h=y[0],g=y[1];Object(a.useEffect)((function(){if(null===o)p(0),g(0);else{var e=Object(Ot.a)(100*o/(t-n),5);e<=1&&(e=1),p(e),g(E())}Lt=!0}),[o]),Object(a.useEffect)((function(){Lt?g(E()):Lt=!0}),[s]);var E=function(){var e=t-n,a=s-n,r=100*a/(e+o),i=100*o/e;return i<=1&&(i=1,r=100*a/(e+1*e/100)),r*(100+i)/100},b=Object(a.useRef)(),O=Object(a.useRef)(),_=function(){c("start"===i?"finish":"start")};return r.a.createElement(r.a.Fragment,null,null===o?"":r.a.createElement("div",{className:"G_ANG_TS_track_wrap"},r.a.createElement("div",{className:"G_ANG_TS_track_time_point"},r.a.createElement("span",null,Object($e.a)(n))),r.a.createElement("div",{className:"G_ANG_TS_track",ref:b},r.a.createElement("div",{className:"G_ANG_TS_slider",style:{left:"".concat(h,"%"),width:"".concat(m,"%")},ref:O,onMouseDown:function(e){var a,r,i=e.clientX,s=O.current.getBoundingClientRect(),c=s.left,u=s.width,d=b.current.getBoundingClientRect(),f=d.left,p=d.right,v=d.width,y=i-c;a=document.querySelector("body"),(r=document.createElement("div")).id="curtain_time",a.append(r),function(e,t){var n=document.getElementById("curtain_time"),a=!1;n.onmousemove=function(t){e(t.x),a=!0},n.onmouseleave=function(){n.onmouseleave=null,n.onmousemove=null,n.onmouseup=null,n.remove(),a||t(),a=!1},n.onmouseup=function(){n.onmouseleave=null,n.onmousemove=null,n.onmouseup=null,n.remove(),a||t(),a=!1}}((function(e){if(Lt=!1,e-y>=f&&e+u-y<=p){var a=100*(e-y-f)/v;g(a);var r=Math.round(100*a/(100-m)*(t-n-o)/100);l(n+r)}else e-y<f?(g(0),l(n)):e+u-y>p&&(g(100-m),l(t-o))}),_)}},"start"===i?r.a.createElement("div",{className:"G_ANG_TS_slider_time left"},r.a.createElement("span",null,Object($e.a)(s))):r.a.createElement("div",{className:"G_ANG_TS_slider_time right"},r.a.createElement("span",null,Object($e.a)(s+o))))),r.a.createElement("div",{className:"G_ANG_TS_track_time_point"},r.a.createElement("span",null,Object($e.a)(t)))))};function Dt(e){var t=Object(c.c)(Q.b);return r.a.createElement(Tt,E()({},e,{eventList:t.eventList,eventListById:t.eventListById}))}n(382);var Pt=n(50),At=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,i=e.duration,s=e.startTime,c=e.setStartTime,o=Object(a.useState)(""),l=f()(o,2),u=l[0],d=l[1],m=Object(a.useState)(""),p=f()(m,2),v=p[0],y=p[1],h=Object(a.useState)(""),g=f()(h,2),E=g[0],b=g[1],O=function(e){var t=s-e;t>=n&&(console.dir("next_val"),console.dir(t),c(t))},_=function(e){var n=s+e;n<=t-i&&c(n)};return r.a.createElement(r.a.Fragment,null,null===i?"":r.a.createElement("div",{className:"G_ANG_TS_TimeButtons"},r.a.createElement("div",{className:"btn",onClick:function(){O(60)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"60s")),r.a.createElement("div",{className:"btn",onClick:function(){O(10)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"10s")),r.a.createElement("div",{className:"btn marginRight",onClick:function(){O(1)}},r.a.createElement("span",{className:"icon icon-left"}),r.a.createElement("span",{className:"text"},"1s")),r.a.createElement("div",{className:"btn",onClick:function(){_(1)}},r.a.createElement("span",{className:"text"},"1s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){_(10)}},r.a.createElement("span",{className:"text"},"10s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"btn",onClick:function(){_(60)}},r.a.createElement("span",{className:"text"},"60s"),r.a.createElement("span",{className:"icon icon-right"})),r.a.createElement("div",{className:"time_input"},r.a.createElement(Pt.a,{HH:E,MM:v,SS:u,setHH:b,setMM:y,setSS:d,enterHandler:function(){var e="00",a="00",r="00";""!==E&&(e=E),""!==v&&(a=v),""!==u&&(r=u);var s=Object(ft.a)("".concat(e,":").concat(a,":").concat(r));s>=n&&s<=t-i&&c(s),d(""),y(""),b("")}}))))};function wt(e){return r.a.createElement(At,e)}var Mt=function(e){var t=e.timeSpaceTo,n=e.timeSpaceFrom,a=e.startTime,i=e.setStartTime,s=e.timeTarget,c=e.setTimeTarget,o=e.durationTime;return r.a.createElement("div",{className:"G_ANG_TimeSelected"},r.a.createElement(wt,{timeSpaceTo:t,timeSpaceFrom:n,duration:o,startTime:a,setStartTime:i}),r.a.createElement(Dt,{timeSpaceTo:t,timeSpaceFrom:n,duration:o,target:s,setTimeTarget:c,startTime:a,setStartTime:i}))};function Bt(e){var t=Object(c.c)(Q.b);return r.a.createElement(Mt,E()({},e,{eventListById:t.eventListById}))}n(384);var kt=function(e){var t=e.eventId,n=e.createHandler,i=Object(a.useState)(!1),s=f()(i,2),c=s[0],o=s[1];return Object(a.useEffect)((function(){o(null!==t)}),[t]),r.a.createElement("div",{className:"G_ANG_CreateButton_wrap"},c?r.a.createElement("div",{className:"G_ANG_CreateButton",onClick:n},r.a.createElement("span",{className:"icon-plus"}),r.a.createElement("span",{className:"value"},"Добавить")):"")};function xt(e){return r.a.createElement(kt,e)}var Rt=function(e){var t=e.isOpen,n=e.setIsOpen,i=e.timeSpaceFrom,s=e.timeSpaceTo,c=e.eventListById,o=e.gridCurrentDay,l=e.scheduleEventsList,u=Object(a.useState)(!1),d=f()(u,2),m=d[0],p=d[1],v=Object(a.useState)(null),y=f()(v,2),h=y[0],g=y[1],E=Object(a.useState)(i),b=f()(E,2),O=b[0],_=b[1],C=Object(a.useState)("start"),S=f()(C,2),j=S[0],I=S[1],N=Object(a.useState)(0),L=f()(N,2),T=L[0],D=L[1];Object(a.useEffect)((function(){p(!1),g(null),_(i),I("start")}),[t]),Object(a.useEffect)((function(){m&&I("start")}),[m]),Object(a.useEffect)((function(){D(null!==h?Object(ft.a)(c[h].durationTime):0)}),[h]);return r.a.createElement("div",{className:"G_AddNewEventComponent"},r.a.createElement(St,{isAKeyOneEvent:m,setIsAKeyOneEvent:p}),r.a.createElement(vt,{eventId:h,setEventId:g,durationLimit:s-i}),r.a.createElement(Nt,{eventId:h,startTime:O,isAKeyOneEvent:m}),null===h?"":r.a.createElement(Bt,{timeSpaceTo:s,timeSpaceFrom:i,startTime:O,setStartTime:_,timeTarget:j,setTimeTarget:I,durationTime:T}),r.a.createElement(xt,{eventId:h,createHandler:function(){if(null!==h){var e=new Ke;e.CreateFromScheduleEventsList(l),e.AddEvent({gridCurrentDay:o,isAKeyPoint:m,startTime:O,eventId:h,durationTime:T}),e.SetListToStore(!0),n(!1)}}}))};function Gt(e){var t=Object(c.c)(Q.b),n=Object(c.c)(b.b);Object(c.b)();return r.a.createElement(Rt,E()({},e,{gridCurrentDay:t.gridCurrentDay,eventListById:t.eventListById,scheduleEventsList:n.scheduleEventsList}))}var Ft=function(e){var t=e.startTime,n=e.durationTime,i=e.gridEmptySegmentMaxHeightEm,s=e.gridEmptySegmentMinHeightEm,c=Object(a.useState)(!1),o=f()(c,2),l=o[0],u=o[1];return r.a.createElement(bt,{startTime:t,durationTime:n,isEmpty:!0},r.a.createElement(mt.a,{isOpen:l,setIsOpen:u,width:"90vw",height:"80vh",title:"Новое событие",showCurrentDayName:!0},r.a.createElement(Gt,{isOpen:l,setIsOpen:u,timeSpaceFrom:t,timeSpaceTo:t+n})),r.a.createElement("div",{className:"emptyTimeSegment",style:{height:_t(n,s,i)}},r.a.createElement("div",{className:"ETS_add"},r.a.createElement("span",{className:"icon-plus",onClick:function(){u(!0)}}))))};function Yt(e){var t=Object(c.c)(Q.b);return r.a.createElement(Ft,E()({},e,{gridDayEventsIsChanges:t.gridDayEventsIsChanges,gridEmptySegmentMaxHeightEm:t.gridEmptySegmentMaxHeightEm,gridEmptySegmentMinHeightEm:t.gridEmptySegmentMinHeightEm}))}n(386),n(388);var Ht=function(e){var t=e.eventId,n=e.cutPart,i=e.eventListById,s=e.categoryListById,c=Object(a.useState)(""),o=f()(c,2),l=o[0],u=o[1],d=Object(a.useState)(""),m=f()(d,2),p=m[0],v=m[1],y=Object(a.useState)(""),h=f()(y,2),g=h[0],E=h[1],b=Object(a.useState)(""),O=f()(b,2),_=O[0],C=O[1];Object(a.useEffect)((function(){if(i[t]){var e=i[t],n=e.category_id,a=e.name,r=e.type;if(u(a),v(r),s[n]){var c=s[n],o=c.colorBG,l=c.colorText;E(o),C(l)}}}),[t,i,s]);var S,j;return r.a.createElement("div",{className:"SEC_EventNameItem"},r.a.createElement("input",{type:"text",value:l,maxLength:255,onChange:function(){},style:(S=p,j={backgroundColor:"#ffffff00",color:"#ffffff00"},S===ve.e.FILE?(j.backgroundColor=g,j.color=_):S===ve.e.BLOCK&&(j.backgroundColor="#ffffff00",j.color=g,j.borderColor=g),j)}),null!==n?r.a.createElement("div",{className:"curPartName"},r.a.createElement("span",null,r.a.createElement("span",{className:"icon icon-scissors"}),r.a.createElement("span",{className:"num"},n))):"")};function Ut(e){var t=Object(c.c)(Q.b);return r.a.createElement(Ht,E()({},e,{layout:t,eventListById:t.eventListById,categoryListById:t.categoryListById}))}n(390);var Kt=n(106),Wt=n(80),qt=function(e){var t=e.gridEventId,n=e.finalNotes,i=Object(a.useState)(!1),s=f()(i,2),c=s[0],o=s[1],l=Object(a.useState)(n),u=f()(l,2),d=u[0],m=u[1];Object(a.useEffect)((function(){m(n)}),[n]);return r.a.createElement("div",{className:"SEC_EventNotesItem"},r.a.createElement(mt.a,{isOpen:c,setIsOpen:o,title:"Заметка для эфирщика",width:"30em",height:"20em"},r.a.createElement(Kt.a,{title:"Notes",value:d,onChange:function(e){var t=e.target.value;m(t)},placeholder:"Это прочтёт эфирщик"}),r.a.createElement(Wt.a,{isReady:!0,clickHandler:function(){at(t,{finalNotes:d}),o(!1)}})),r.a.createElement("div",{className:"SEC_EventNotesItem_btn",onClick:function(){o(!0)}},r.a.createElement("span",{className:"SEC_EventNotesItem_icon icon-edit"})),r.a.createElement("span",{className:"SEC_EventNotesItem_text"},d))};function zt(e){var t=Object(c.c)(b.b);return r.a.createElement(qt,E()({},e,{scheduleEventsList:t.scheduleEventsList}))}n(392),n(394);var Xt=function(e){e.gridEventId;var t=e.clickHandler,n=(e.gridDayEventsListById,Object(a.useState)(!0)),i=f()(n,2),s=i[0];i[1];return r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:"removeSegmentButton"},r.a.createElement("div",{className:"RIB_btn",onClick:t},r.a.createElement("span",{className:"icon-cancel-2"}))):"")};function Vt(e){var t=Object(c.c)(Q.b);return r.a.createElement(Xt,E()({},e,{gridDayEventsListById:t.gridDayEventsListById}))}var Zt=function(e){var t=e.gridEventId,n=e.scheduleEventsList,i=Object(a.useState)(!1),s=f()(i,2),c=s[0],o=s[1];return r.a.createElement("div",{className:"CTS_RemoveItem"},r.a.createElement(mt.a,{isOpen:c,setIsOpen:o,width:"25em",height:"10em"},r.a.createElement("div",{className:"CTS_Event_remove"},r.a.createElement("p",null,"Пожалуйста, подтвердите удаление события"),r.a.createElement("p",null,r.a.createElement("span",{className:"CTS_Event_remove_btn",onClick:function(){var e=new Ke;e.CreateFromScheduleEventsList(n),e.RemoveEvent(t),e.SetListToStore(!0),o(!1)}},"Удалить"),r.a.createElement("span",{className:"CTS_Event_no_remove_btn",onClick:function(){o(!1)}},"Отмена")))),r.a.createElement(Vt,{gridEventId:t,clickHandler:function(){o(!0)}}))};function Jt(e){var t=Object(c.c)(b.b);Object(c.b)();return r.a.createElement(Zt,E()({},e,{scheduleEventsList:t.scheduleEventsList}))}n(396),n(398);var $t=n(26),Qt=n(113),en=n(117),tn=n(85);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=function(e){var t=e.gridEventId,n=(e.gridDayEventsListById,e.eventsPartsList),i=e.eventListById,s=e.scheduleEventsList,c=e.scheduleEventsListByGridEventId,o=e.setSutEventData,l=(e.setScheduleEventsList,Object(a.useState)(!1)),u=f()(l,2),d=u[0],m=u[1],p=Object(a.useState)(!0),v=f()(p,2),y=v[0],h=v[1];Object(a.useEffect)((function(){if(c[t]){var e=c[t].firstSegmentId,n=c[t].eventId;i[n].type===ve.e.FILE?h(g(e)):h(!1)}else h(!1)}),[c,t]);var g=function(e){var n=!1;return(null===e||e===t)&&(n=!0),n},E=function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].durationTime}return t},b=function(e){if(e){m(!0);var n=function(){for(var e=[],n=0;n<s.length;n++){var a=s[n],r=a.id,i=a.firstSegmentId;(r===t||null!==i&&i===t)&&e.push(an({},s[n]))}return e}(),a=n[0].eventId,r=Object(tn.a)(a);if(r.event_is_not_found)alert("В расисании есть удалённые события, пожалуйста, пересоздайте лист заново");else{var c=i[a].name;o({eventParts:n,maxDurationTime:E(n),eventId:a,eventStyle:r,eventName:c})}}};return r.a.createElement("div",{className:"cutSegmentButton"},r.a.createElement(Qt.a,{isOpen:d,setIsOpen:m,saveHandler:function(){var e=Object(en.a)(s,n),t=new Ke;t.CreateFromScheduleEventsList(e),t.SetListToStore(!0),m(!1)}}),r.a.createElement("div",{className:"CSB_btn ".concat(y?"isActive":""),onClick:function(){b(y)}},r.a.createElement("span",{className:"icon-scissors"})))};function sn(e){var t=Object(c.c)(Q.b),n=Object(c.c)(b.b),a=Object(c.c)($t.b),i=Object(c.b)();return r.a.createElement(rn,E()({},e,{gridDayEventsListById:t.gridDayEventsListById,eventListById:t.eventListById,eventsPartsList:a.eventsPartsList,scheduleEventsList:n.scheduleEventsList,scheduleEventsListByGridEventId:n.scheduleEventsListByGridEventId,setSutEventData:function(e){i(Object($t.d)(e))},setScheduleEventsList:function(e){i(Object(b.q)(e))}}))}var cn=function(e){var t=e.gridEventId;return r.a.createElement("div",{className:"CTS_CutItem"},r.a.createElement(sn,{gridEventId:t}))};function on(e){return r.a.createElement(cn,e)}n(400);var ln=function(e){var t=e.gridEventId,n=e.is_premiere,i=e.scheduleEventsList,s=e.scheduleEventsListByGridEventId,c=Object(a.useState)(!1),o=f()(c,2),l=o[0],u=o[1];Object(a.useEffect)((function(){var e=s[t].firstSegmentId;u(null===e||e===t)}),[t]);return r.a.createElement("div",{className:"CTS_PremieraToggleItem"},l?r.a.createElement("span",{className:"CTS_PremieraToggleItem_btn ".concat(n?"isActive":""),onClick:function(){var e=s[t].firstSegmentId;if(null===e)at(t,{is_premiere:!n});else{for(var a=[],r=0;r<i.length;r++){var c=i[r];c.firstSegmentId===e&&a.push(c.gridEventId)}for(var o=0;o<a.length;o++)at(a[o],{is_premiere:!n})}}},"premiere"):"")};function un(e){var t=Object(c.c)(b.b);return r.a.createElement(ln,E()({},e,{scheduleEventsList:t.scheduleEventsList,scheduleEventsListByGridEventId:t.scheduleEventsListByGridEventId}))}n(402);var dn=function(e){var t,n=e.releases,a=e.gridEventId,i=e.scheduleEventsList,s=e.scheduleEventsListByGridEventId;return r.a.createElement(r.a.Fragment,null,n.length>0?r.a.createElement("div",{className:"CTS_ReleasesItemItem"},(t=0,n.map((function(e,n){e.applicationName;var c=e.releaseName,o=e.releaseDuration,l=e.file_list,u=e.id,d=e.startTime,m=0;s[a]&&(m=s[a].startTime+t),t+=o;var f="";l.length>0&&(f="".concat(l[l.length-1]));var p=""===f?"".concat(c,"/"):f;return r.a.createElement("div",{className:"CTS_RI_Item",key:n},r.a.createElement("div",{className:"CTS_RI_Item_time"},r.a.createElement("span",{className:"CTS_RI_Item_time_fact"},Object($e.a)(m)),r.a.createElement("span",{className:"CTS_RI_Item_time_plan"},Object($e.a)(d))),r.a.createElement("span",{className:"icon-angle-up arrow",onClick:function(){!function(e){var t=new Ke;t.CreateFromScheduleEventsList(i),t.ReleaseMoveUp(a,e),t.SetListToStore(!0)}(u)}}),r.a.createElement("span",{className:"icon-angle-down arrow",onClick:function(){!function(e){var t=new Ke;t.CreateFromScheduleEventsList(i),t.ReleaseMoveDown(a,e),t.SetListToStore(!0)}(u)}}),r.a.createElement("span",{className:"name"},p),r.a.createElement("span",{className:"duration"},Object($e.a)(o)),r.a.createElement("span",{onClick:function(){var e,t;e=u,(t=new Ke).CreateFromScheduleEventsList(i),t.RemoveRelease(a,e),t.SetListToStore(!0)},className:"remove"},"Снять"))})))):"","  ")};function mn(e){var t=Object(c.c)(b.b);return r.a.createElement(dn,E()({},e,{scheduleEventsList:t.scheduleEventsList,scheduleEventsListByGridEventId:t.scheduleEventsListByGridEventId}))}var fn=function(e){var t=e.gridEventId,n=e.firstSegmentId,i=e.eventId,s=(e.notes,e.isKeyPoint),c=e.startTime,o=e.durationTime,l=e.cutPart,u=e.is_premiere,d=e.finalNotes,m=e.releases,p=e.eventListById,v=Object(a.useState)(0),y=f()(v,2),h=(y[0],y[1]);return Object(a.useEffect)((function(){if(null===n){var e=p[i];e.type===ve.e.BLOCK?h(o):e.type===ve.e.FILE&&h(Object(ft.a)(e.durationTime))}else h(o)}),[p,o]),r.a.createElement(bt,{startTime:c,eventId:i,durationTime:o,isCompletd:!0,isKeyPoint:s,gridEventId:t},r.a.createElement("div",{className:"completedTimeSegment"},r.a.createElement(un,{gridEventId:t,is_premiere:u}),r.a.createElement(Ut,{eventId:i,cutPart:l}),r.a.createElement(zt,{gridEventId:t,finalNotes:d}),r.a.createElement("div",{className:"SEC_right_buttons_wrap"},r.a.createElement(on,{gridEventId:t}),r.a.createElement(Jt,{gridEventId:t}))),r.a.createElement(mn,{releases:m,gridEventId:t}))};function pn(e){var t=Object(c.c)(Q.b);return r.a.createElement(fn,E()({},e,{eventListById:t.eventListById}))}var vn=function(e){var t=e.sector_start_time,n=e.sector_completed_duration,a=e.sector_duration,i=e.sector_list;return r.a.createElement("div",{className:"SEC_OneSector"},r.a.createElement("div",{className:"SEC_OS_header"},r.a.createElement("div",{className:"SEC_OS_header_time"},r.a.createElement("span",null,Object($e.a)(t))),r.a.createElement("div",{className:"SEC_OS_header_time_empty"},r.a.createElement("span",{className:"name"},"Свободно: "),r.a.createElement("span",{className:"value"},Object($e.a)(a-n)))),r.a.createElement("div",{className:"SEC_OS_body"},r.a.createElement("div",{className:"SEC_OS_body_left"},r.a.createElement("span",{className:"SEC_OS_body_left_timeEnd"},Object($e.a)(t+a))),r.a.createElement("div",{className:"SEC_OS_body_right"},i.map((function(e,t){var n=e.type;if(n===ve.f.COMPLETED){var a=e.gridEventId,i=e.firstSegmentId,s=e.eventId,c=e.notes,o=e.isKeyPoint,l=e.startTime,u=e.durationTime,d=e.cutPart,m=e.is_premiere,f=e.finalNotes,p=e.releases;return r.a.createElement(pn,{key:t,gridEventId:a,firstSegmentId:i,eventId:s,notes:c,isKeyPoint:o,startTime:l,durationTime:u,cutPart:d,is_premiere:m,finalNotes:f,releases:p})}if(n===ve.f.EMPTY){var v=e.startTime,y=e.durationTime;return r.a.createElement(Yt,{segmentIndex:t,key:t,startTime:v,durationTime:y})}})))))};function yn(e){var t=Object(c.c)(Q.b);return r.a.createElement(vn,E()({},e,{gridOneDayList:t.gridOneDayList}))}var hn=function(e){var t=e.scheduleEventsList,n=Object(a.useRef)(),i=Object(a.useState)([]),s=f()(i,2),c=s[0],l=s[1],u=Object(a.useState)(!1),d=f()(u,2),m=d[0],p=d[1];Object(a.useEffect)((function(){var e,t,a,r,i;e=n.current.parentElement,t=window.getComputedStyle(e),a=parseFloat(t.fontSize),r=parseFloat(t.height),i=Object(Ot.a)(r/a-5,2),o.a.dispatch(Object(Q.n)(i)),p(!0)}),[]),Object(a.useEffect)((function(){var e=new Ke;e.CreateFromScheduleEventsList(t);var n=e.GetScheduleEventsList();e.SetCounterDataToStore(n);var a=e.GetListBySectors();l(a)}),[t]);var v;return r.a.createElement("div",{className:"S_EventsList",ref:n},m?r.a.createElement(Je.a,null,(v=c).length>0?v.map((function(e,t){return r.a.createElement(yn,{key:t,sector_start_time:e.sector_start_time,sector_completed_duration:e.sector_completed_duration,sector_duration:e.sector_duration,sector_list:e.sector_list})})):r.a.createElement(yn,{sector_start_time:0,sector_completed_duration:0,sector_duration:86399,sector_list:[]})):"")};function gn(e){var t=Object(c.c)(b.b),n=Object(c.b)();return r.a.createElement(hn,E()({},e,{scheduleEventsList:t.scheduleEventsList,setCounterList:function(e){n(Object(Ze.c)(e))}}))}n(404),n(406);var En=function(e){var t=e.activeTab,n=e.setActiveTab;return r.a.createElement("div",{className:"topSwitchButtons"},r.a.createElement("div",{className:"TSB_btn ".concat("buffer"===t?"isActive":""),onClick:function(){n("buffer")}},r.a.createElement("span",null,"Буфер")),r.a.createElement("div",{className:"TSB_btn ".concat("list"===t?"isActive":""),onClick:function(){n("list")}},r.a.createElement("span",null,"Список")))};function bn(e){Object(c.c)(b.b);return r.a.createElement(En,e)}n(408),n(410),n(412),n(414);var On=function(e){var t=e.isActive,n=void 0===t||t,a=e.title,i=e.clickHandler;return r.a.createElement("div",{className:"RB_BuffferButtonContainer ".concat(n?"isActive":""),onClick:function(){n&&i()}},r.a.createElement("span",null,a))};function _n(e){Object(c.c)(b.b);return r.a.createElement(On,e)}var Cn=function(e){var t=e.scheduleEventsList,n=e.releaseList,i=e.usedReleasesById,s=(e.scheduleResult,Object(a.useState)(!0)),c=f()(s,2),o=c[0];c[1];return r.a.createElement(_n,{isActive:o,title:"Расставить все",clickHandler:function(){var e=new Ke;e.CreateFromScheduleEventsList(t,!0),e.AddAllRemainingReleases(n,i),e.SetListToStore(!0)}})};function Sn(e){var t=Object(c.c)(b.b);return r.a.createElement(Cn,E()({},e,{scheduleEventsList:t.scheduleEventsList,releaseList:t.releaseList,usedReleasesById:t.usedReleasesById}))}var jn=n(43),In=n(84),Nn=function(e){var t="";return""!==e&&(t=In.a.YY_MM_DD_points(e)),{v:t,t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"}}}},Ln=function(e){var t=Object($e.a)(e).split(":");return{v:"".concat(t[0],":").concat(t[1]),t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!0},alignment:{horizontal:"left",vertical:"center"}}}},Tn=function(e){e.applicationName;var t=e.releaseName,n=e.file_list,a=e.air_notes,r="/".concat(t);return n.length>0&&(r="".concat(n[n.length-1])),""!==a.trim()&&(r="".concat(r," //").concat(a)),{v:r,t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"}}}},Dn=function(e){return{v:Object($e.a)(e),t:"s",s:{font:{name:"Arial",sz:8,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"}}}},Pn=function(){return oe()((function e(){se()(this,e),this.releaseList=[],this.collsWidthList=[{width:8},{width:5},{width:60},{width:5}],this.rowsHeightList=[{hpx:30}],this.mergesList=["A1:E1"],this.YYYY_MM_DD="",this.rows=[],this.AddReleaseList=this.AddReleaseList.bind(this),this.CreateFirstRow=this.CreateFirstRow.bind(this),this.CreateBodyRows=this.CreateBodyRows.bind(this),this.Download=this.Download.bind(this)}),[{key:"AddReleaseList",value:function(e){for(var t=0;t<e.length;t++){var n=structuredClone(e[t]);this.releaseList.push(n),""===this.YYYY_MM_DD&&(this.YYYY_MM_DD=e[t].YYYY_MM_DD)}}},{key:"CreateFirstRow",value:function(){var e,t;this.rows.push((e=this.YYYY_MM_DD,t="-",""!==e&&(t=In.a.YY_MM_DD_points(e)),[{v:"Остаток ".concat(t),t:"s",s:{font:{name:"Arial",sz:14,italic:!1,bold:!0},alignment:{horizontal:"center",vertical:"center"}}}]))}},{key:"CreateBodyRows",value:function(){for(var e=0;e<this.releaseList.length;e++){var t=this.releaseList[e],n=t.YYYY_MM_DD,a=t.air_notes,r=t.applicationName,i=(t.application_id,t.category_id,t.event_id,t.file_list),s=(t.grid_event_id,t.id,t.manager_id,t.releaseDuration),c=t.releaseName,o=t.startTime,l=(t.sub_application_id,Nn(n)),u=Ln(o),d=Tn({applicationName:r,releaseName:c,file_list:i,air_notes:a}),m=Dn(s);this.rows.push([l,u,d,m])}}},{key:"Download",value:function(){this.CreateFirstRow(),this.CreateBodyRows();var e=jn.utils.book_new(),t=jn.utils.aoa_to_sheet(this.rows);t["!cols"]=[{width:9.8},{width:6.8},{width:60.2},{width:7.1}],t["!rows"]=[{hpx:30}],t["!merges"]=[jn.utils.decode_range("A1:D1")];var n=In.a.YY_MM_DD_points(this.YYYY_MM_DD),a=n;jn.utils.book_append_sheet(e,t,a);var r="Остаток ".concat(n,".xlsx");jn.writeFile(e,r)}}])}();n(419);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(){for(var e=[],t=o.a.getState().scheduleResult.releaseList,n=0;n<t.length;n++)e.push(wn({},t[n]));return e},Bn=function(e){e.scheduleEventsList,e.releaseList;var t=e.usedReleasesById,n=(e.scheduleResult,Object(a.useState)(!0)),i=f()(n,2),s=i[0];i[1];return r.a.createElement(_n,{isActive:s,title:"Скачать остаток",clickHandler:function(){for(var e=Mn(),n=[],a=0;a<e.length;a++)t[e[a].id]||n.push(e[a]);var r=new Pn;r.AddReleaseList(n),r.Download()}})};function kn(e){var t=Object(c.c)(b.b);return r.a.createElement(Bn,E()({},e,{scheduleEventsList:t.scheduleEventsList,releaseList:t.releaseList,usedReleasesById:t.usedReleasesById,scheduleResult:t}))}var xn=!0,Rn=function(e){var t=e.setBufferButtonsHeight;Object(a.useEffect)((function(){i()}),[]);var n=Object(a.useRef)(),i=function(){if(xn){xn=!1;var e=setTimeout((function(){var a=n.current,r=window.getComputedStyle(a);t(parseFloat(r.height)),xn=!0,clearTimeout(e)}),300)}};return r.a.createElement("div",{className:"RB_BufferButtons",ref:n},r.a.createElement(Sn,null),r.a.createElement(kn,null))};function Gn(e){Object(c.c)(b.b);return r.a.createElement(Rn,e)}n(421);var Fn=function(e){var t=e.height,n=e.releaseList,i=e.eventListById,s=e.gridDayEventsListById,c=e.usedReleasesById,o=e.setDragebleReleaseId,l=e.setDragebleReleaseEventId,u=Object(a.useState)([]),d=f()(u,2),m=d[0],p=d[1];Object(a.useEffect)((function(){p(Mn())}),[n]);var v=function(){o(null),l(null)};return r.a.createElement("div",{className:"RB_BufferList",style:{height:"".concat(t,"px")}},r.a.createElement(Je.a,null,m.map((function(e,t){var n=e.startTime,a=e.releaseName,u=e.releaseDuration,d=e.event_id,m=(e.category_id,e.grid_event_id),f=e.id,p=(e.force_event_id,i[d]?i[d].name:""),y=!!s[m];return c[f]?"":r.a.createElement("div",{key:t,className:"RB_BufferList_item",draggable:!0,onDragStart:function(t){!function(e,t){var n=t.event_id,a=t.id,r=t.force_event_id,i=n;null===t.category_id&&null===n&&(i=r),o(a),l(i)}(0,e)},onDragEnd:v},r.a.createElement("span",{className:"GE_id"},y?m:""),r.a.createElement("span",{className:"time"},Object($e.a)(n)),r.a.createElement("span",{className:"name"},a),""===p?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"char_name"},"График"),r.a.createElement("span",{className:y?"char_yes":"char_not"},y?"Да":"Нет")):r.a.createElement("span",{className:"eventName"},p),r.a.createElement("span",{className:"duration_name"},"Хрон."),r.a.createElement("span",{className:"duration_time"},Object($e.a)(u)))}))))};function Yn(e){var t=Object(c.c)(b.b),n=Object(c.c)(Q.b),a=Object(c.b)();return r.a.createElement(Fn,E()({},e,{releaseList:t.releaseList,usedReleasesById:t.usedReleasesById,eventListById:n.eventListById,gridDayEventsListById:n.gridDayEventsListById,setDragebleReleaseId:function(e){a(Object(b.k)(e))},setDragebleReleaseEventId:function(e){a(Object(b.j)(e))}}))}var Hn=function(e){u()(e);var t=Object(a.useRef)(),n=Object(a.useState)(0),i=f()(n,2),s=i[0],c=i[1],o=Object(a.useState)(0),l=f()(o,2),d=l[0],m=l[1];return Object(a.useEffect)((function(){var e=t.current,n=window.getComputedStyle(e).height;m(parseFloat(n)-s)}),[s]),r.a.createElement("div",{className:"releaseBuffer",ref:t},r.a.createElement(Gn,{setBufferButtonsHeight:c}),r.a.createElement(Yn,{height:d}))};function Un(e){Object(c.c)(b.b);return r.a.createElement(Hn,e)}n(423);function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn=function(e){var t=o.a.getState().layout.categoryListById;return t[e]?Wn({},t[e]):Wn({},ve.c)};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xn=function(e){var t=o.a.getState().layout.eventListById;return t[e]?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[e]):{category_id:null,durationTime:ve.g,id:null,name:"Событие удалено",notes:"",type:ve.e.FILE}};function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(425);var Qn=!0,ea=function(e){var t,n=e.activeCategoryId,i=e.activeEventId,s=e.activeSubAppId,c=e.activeReleaseName,o=e.setActiveCategoryId,l=e.setActiveEventId,u=e.setActiveSubAppId,d=e.setActiveReleaseName,m=e.categoryList,f=e.eventsList,p=e.subAppList,v=e.releaseNamesList,y=e.setFilterButtonsHeight,h=e.length,g=Object(a.useRef)(),E=function(){if(Qn){Qn=!1;var e=setTimeout((function(){var t=g.current,n=window.getComputedStyle(t);y(parseFloat(n.height)),Qn=!0,clearTimeout(e)}),300)}};return r.a.createElement("div",{className:"RL_FilterButtons",ref:g},r.a.createElement("div",{className:"FB_row"},r.a.createElement("span",{className:"btn_all ".concat(null===n?"isActive":""),onClick:function(){o(null),l(null),u(null),d(null)}},"Все"),(t=m.map((function(e,t){e.colorBG,e.colorText;var a=e.id,i=e.name;return r.a.createElement("span",{key:t,className:"btn_all ".concat(n===a?"isActive":""),onClick:function(){o(a),l(null),u(null),d(null)}},i)})),E(),t)),r.a.createElement("div",{className:"FB_row"},r.a.createElement("span",{className:"btn_all ".concat(null===i?"isActive":""),onClick:function(){l(null),u(null),d(null)}},"Все"),function(e){var t=[];if(null===n)t=Be()(e);else for(var a=0;a<e.length;a++)e[a].category_id===n&&t.push(e[a]);var s=t.map((function(e,t){e.colorBG,e.colorText;var n=e.id,a=e.name;return r.a.createElement("span",{key:t,className:"btn_all ".concat(i===n?"isActive":""),onClick:function(){l(n),u(null),d(null)}},a)}));return E(),s}(f)),r.a.createElement("div",{className:"FB_row"},r.a.createElement("span",{className:"btn_all ".concat(null===s?"isActive":""),onClick:function(){u(null),d(null)}},"Все"),function(e){for(var t=[],a=0;a<e.length;a++){var c=e[a],o=c.event_id,l=c.category_id,m=!1;null===n&&null===i?m=!0:null!==n&&null!==i?o===i&&l===n&&(m=!0):null!==n?l===n&&(m=!0):null!==i&&o===i&&(m=!0),m&&t.push(e[a])}var f=t.map((function(e,t){e.colorBG,e.colorText,e.id;var n=e.application_id,a=e.name;return r.a.createElement("span",{key:t,className:"btn_all ".concat(s===n?"isActive":""),onClick:function(){u(n),d(null)}},a)}));return E(),f}(p)),r.a.createElement("div",{className:"FB_row"},function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],i=(a.event_id,a.category_id,a.application_id);null!==s&&i===s&&t.push(e[n])}var o=t.map((function(e,t){var n=e.name,a=e.colorBG,i={backgroundColor:a,color:e.colorText,borderColor:a};return e.event_type===ve.e.BLOCK&&(i.backgroundColor="#00000000",i.color="#ffffff"),r.a.createElement("span",{key:t,className:"btn_all ".concat(c===n?"isActive":""),onClick:function(){d(n)},style:i},n)}));return E(),o}(v)),r.a.createElement("div",{className:"FB_row"},r.a.createElement("div",{className:"FB_row_all"},r.a.createElement("span",null,"Всего: ",h))))};function ta(e){var t=Object(c.c)(b.b);return r.a.createElement(ea,E()({},e,{releaseList:t.releaseList}))}n(427);var na=function(e){var t=e.filteredList,n=e.gridDayEventsListById,a=e.height;return r.a.createElement("div",{className:"RL_FilterList",style:{height:"".concat(a,"px")}},r.a.createElement(Je.a,null,t.map((function(e,t){var a=e.startTime,i=e.releaseName,s=e.releaseDuration,c=e.grid_event_id,o=!!n[c];return r.a.createElement("div",{key:t,className:"RL_FilterList_item"},r.a.createElement("span",{className:"time"},Object($e.a)(a)),r.a.createElement("span",{className:"name"},i),r.a.createElement("span",{className:"duration_name"},"Хрон."),r.a.createElement("span",{className:"duration_time"},Object($e.a)(s)),r.a.createElement("span",{className:"char_name"},"График"),r.a.createElement("span",{className:o?"char_yes":"char_not"},o?"Да":"Нет"))}))))};function aa(e){var t=Object(c.c)(b.b),n=Object(c.c)(Q.b);return Q.b,r.a.createElement(na,E()({},e,{releaseList:t.releaseList,gridDayEventsListById:n.gridDayEventsListById}))}var ra=function(e){var t=e.releaseList,n=Object(a.useRef)(),i=Object(a.useState)(null),s=f()(i,2),c=s[0],o=s[1],l=Object(a.useState)(null),u=f()(l,2),d=u[0],m=u[1],p=Object(a.useState)(null),v=f()(p,2),y=v[0],h=v[1],g=Object(a.useState)(null),E=f()(g,2),b=E[0],O=E[1],_=Object(a.useState)([]),C=f()(_,2),S=C[0],j=C[1],I=Object(a.useState)([]),N=f()(I,2),L=N[0],T=N[1],D=Object(a.useState)([]),P=f()(D,2),A=P[0],w=P[1],M=Object(a.useState)([]),B=f()(M,2),k=B[0],x=B[1],R=Object(a.useState)([]),G=f()(R,2),F=G[0],Y=G[1],H=Object(a.useState)(0),U=f()(H,2),K=U[0],W=U[1],q=Object(a.useState)(0),z=f()(q,2),X=z[0],V=z[1];return Object(a.useEffect)((function(){var e=function(e){for(var t={category:[],events:[],subApp:[],release:[]},n={},a={},r={},i={},s=0;s<e.length;s++){var c=e[s],o=c.category_id,l=c.event_id,u=c.sub_application_id,d=c.application_id,m=c.applicationName,f=(c.id,c.releaseName),p=qn(o),v=Xn(l);n[o]||(n[o]=p),a[l]||(a[l]=v,a[l].colorBG=p.colorBG,a[l].colorText=p.colorText,a[l].category_id=o),r[d]||(r[d]={application_id:d,name:m,colorBG:p.colorBG,colorText:p.colorText,category_id:o,event_id:l}),i[f]||(i[f]={id:u,name:f,colorBG:p.colorBG,colorText:p.colorText,category_id:o,event_id:l,application_id:d,event_type:v.type})}for(var y in n)t.category.push(Zn({},n[y]));for(var h in a)t.events.push(Zn({},a[h]));for(var g in r)t.subApp.push(Zn({},r[g]));for(var E in i)t.release.push(Zn({},i[E]));return t}(t),n=e.category,a=e.events,r=e.subApp,i=e.release;T(n),w(a),x(r),Y(i)}),[t]),Object(a.useEffect)((function(){var e=function(e){for(var t=e.activeCategoryId,n=e.activeEventId,a=e.activeSubAppId,r=e.activeReleaseName,i=e.releaseList,s=[],c=0;c<i.length;c++){var o=i[c],l=o.category_id,u=o.event_id,d=o.application_id,m=(o.applicationName,o.id,o.releaseName),f=!1,p=!1,v=!1,y=!1;(null===t||t===l)&&(f=!0),(null===n||n===u)&&(p=!0),(null===a||a===d)&&(v=!0),(null===r||r===m)&&(y=!0),f&&p&&v&&y&&s.push($n({},i[c]))}return s}({activeCategoryId:c,activeEventId:d,activeSubAppId:y,activeReleaseName:b,releaseList:t});j(e)}),[c,d,y,b,t]),Object(a.useEffect)((function(){var e=n.current,t=window.getComputedStyle(e).height;V(parseFloat(t)-K)}),[K]),r.a.createElement("div",{className:"releaseList",ref:n},r.a.createElement(ta,{activeCategoryId:c,activeEventId:d,activeSubAppId:y,activeReleaseName:b,setActiveCategoryId:o,setActiveEventId:m,setActiveSubAppId:h,setActiveReleaseName:O,categoryList:L,eventsList:A,subAppList:k,releaseNamesList:F,setFilterButtonsHeight:W,length:S.length}),r.a.createElement(aa,{filteredList:S,height:X}))};function ia(e){var t=Object(c.c)(b.b);return r.a.createElement(ra,E()({},e,{releaseList:t.releaseList}))}var sa=function(e){u()(e);var t=Object(a.useState)("buffer"),n=f()(t,2),i=n[0],s=n[1];return r.a.createElement("div",{className:"S_ReleaseList"},r.a.createElement(bn,{activeTab:i,setActiveTab:s}),function(e){var t="";switch(e){case"buffer":t=r.a.createElement(Un,null);break;case"list":t=r.a.createElement(ia,null)}return t}(i))};function ca(e){Object(c.c)(b.b);return r.a.createElement(sa,e)}n(429),n(431);var oa=function(e){var t=e.icon,n=void 0!==t&&t,a=e.title,i=e.isActive,s=void 0===i||i,c=e.clickHandler;return r.a.createElement("div",{className:"topCenterButtonComponent ".concat(s?"isActive":""),onClick:function(){s&&c()}},!1===n?"":r.a.createElement("span",{className:"".concat(n," TCBC_icon")}),r.a.createElement("span",{className:"TCBC_title"},a))};function la(e){return r.a.createElement(oa,e)}var ua=n(82),da=function(e){var t=e.scheduleEventsList,n=Object(a.useState)(!1),i=f()(n,2),s=i[0],c=i[1],o=function(){var e=new Ke;e.CreateFromGridEvents();e.SetListToStore(!0),c(!1)};return r.a.createElement("div",{className:"createScheduleButton"},r.a.createElement(mt.a,{isOpen:s,setIsOpen:c,title:"Подтвердите пересоздание расписания",width:"30em",height:"13em"},r.a.createElement(ua.a,{text:["Вы действительно хотите создать новое расписание?","Текущее расписание будет удалено."],type:"warning",continueHandler:o,cancelHandler:function(){c(!1)},titleContinue:"Удалить"})),r.a.createElement(la,{icon:"icon-feather",title:"Создать из сетки",isActive:!0,clickHandler:function(){t.length>0?c(!0):o()}}))};function ma(e){var t=Object(c.c)(b.b);return r.a.createElement(da,E()({},e,{scheduleEventsList:t.scheduleEventsList}))}n(433),n(435);function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var va=function(e,t,n){for(var a=[],r=0;r<e.length;r++)e[r].eventId===t?a.push(pa(pa({},e[r]),n)):a.push(pa({},e[r]));return a},ya=(n(437),function(e){var t=e.eventId,n=e.isUsed,i=e.withOnlyApplications,s=e.item_change_isUsed,c=e.item_change_whatTake,o=e.eventListById,l=Object(a.useState)({}),u=f()(l,2),d=u[0],m=u[1],p=Object(a.useState)(""),v=f()(p,2),y=v[0],h=v[1];Object(a.useEffect)((function(){m(Object(tn.a)(t)),o[t]&&h(o[t].name)}),[t]);var g=function(e){c(e,t)};return r.a.createElement("div",{className:"S_DExcelComponent_FilterItem ".concat(n?"isUsed":"")},r.a.createElement("div",{className:"chackBtn",onClick:function(){s(!n,t)}},n?r.a.createElement("span",{className:"icon-ok-3"}):""),r.a.createElement("div",{className:"eventName"},r.a.createElement("span",{style:d},y)),n?r.a.createElement("div",{className:"whatTake"},r.a.createElement("span",{className:"".concat(i?"isActive":""),onClick:function(){g(!0)}},"только заявки"),r.a.createElement("span",{className:"".concat(i?"":"isActive"),onClick:function(){g(!1)}},"всё")):"")});function ha(e){var t=Object(c.c)(Q.b);return r.a.createElement(ya,E()({},e,{eventListById:t.eventListById}))}n(439);var ga=function(e){var t=e.filterList,n=e.setFilterList,i=e.isOpen,s=Object(a.useState)(!1),c=f()(s,2),o=c[0],l=c[1];Object(a.useEffect)((function(){i||l(!1)}),[i]),Object(a.useEffect)((function(){for(var e=!1,n=0;n<t.length;n++){if(!t[n].isUsed){e=!1;break}e=!0}l(e)}),[t]);var u=function(e){for(var a=[],r=0;r<t.length;r++){var i=structuredClone(t[r]);i.withOnlyApplications=e,a.push(i)}n(a)};return r.a.createElement("div",{className:"S_DExcelComponent_FilterControlPanel"},r.a.createElement("div",{className:"chackBtn",onClick:function(){for(var e=[],a=0;a<t.length;a++){var r=structuredClone(t[a]);r.isUsed=!o,e.push(r)}n(e)}},o?r.a.createElement("span",{className:"icon-ok-3"}):""),r.a.createElement("div",{className:"chackName"},r.a.createElement("span",null,"Включить всё")),r.a.createElement("div",{className:"whatTake"},r.a.createElement("span",{onClick:function(){u(!0)}},"только заявки"),r.a.createElement("span",{onClick:function(){u(!1)}},"всё")))};function Ea(e){var t=Object(c.c)(Q.b);return r.a.createElement(ga,E()({},e,{eventListById:t.eventListById}))}function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a={rgb:"000000"},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="",r={left:{style:"thin",color:_a}};if(!1!==e){r.top={style:"thin",color:_a};var i=Object($e.a)(e),s=i.split(":");a="".concat(s[0],":").concat(s[1])}return n&&(r.bottom={style:"thin",color:_a}),{v:a,t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:t},alignment:{horizontal:"center",vertical:"center"},border:r,fill:{fgColor:{rgb:"F7F7F7"}}}}},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return t&&(n.bottom={style:"thin",color:_a}),null===e?{v:"",t:"s",s:{font:{name:"Arial",sz:8,italic:!1,bold:!1},alignment:{horizontal:"center",vertical:"center"},border:n,fill:{fgColor:{rgb:"F7F7F7"}}}}:(n.top={style:"thin",color:_a},{v:Object($e.a)(e),t:"s",s:{font:{name:"Arial",sz:8,italic:!1,bold:!1},alignment:{horizontal:"center",vertical:"center"},border:n,fill:{fgColor:{rgb:"F7F7F7"}}}})},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};if(t&&(n.bottom={style:"thin",color:_a}),null===e)return{v:"",t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"},border:n,fill:{fgColor:{rgb:"F7F7F7"}}}};var a=o.a.getState(),r=a.layout,i=r.eventListById,s="";return i[e]&&(s=i[e].name),n.top={style:"thin",color:_a},{v:s,t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!0},alignment:{horizontal:"left",vertical:"center"},border:n,fill:{fgColor:{rgb:"F7F7F7"}}}}},Ia=function(e,t,n){var a={left:{style:"thin",color:_a},right:{style:"thin",color:_a},top:{style:"thin",color:_a}};if(n&&(a.bottom={style:"thin",color:_a}),!1===e)return{v:"",t:"s",s:{font:{name:"Arial",sz:9,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"},border:a,fill:{fgColor:{rgb:"F7F7F7"}}}};var r=e.file_list,i=(e.applicationName,e.releaseName),s=(e.event_id,e.air_notes),c="".concat(i,"/");r.length>0&&(c="".concat(r[r.length-1]));var o="".concat(t," ").concat(s).trim();return{v:c="".concat(c," ").concat(""===o?"":"   // "+o),t:"s",s:{font:{name:"Arial",sz:8,italic:!1,bold:!1},alignment:{horizontal:"left",vertical:"center"},border:a,fill:{fgColor:{rgb:"F7F7F7"}}}}},Na=function(){return oe()((function e(){se()(this,e),this.eventsList=[],this.currentDate="",this.currentDayNum="",this.currentMonth="",this.currentYear="",this.collsWidthList=[{width:5},{width:7.4},{width:18},{width:64}],this.rowsHeightList=[{hpx:30}],this.mergesList=["A1:E1"],this.rows=[],this.AddUsedEvents=this.AddUsedEvents.bind(this),this.SetCurrentDate=this.SetCurrentDate.bind(this),this.SetCurrentDayNum=this.SetCurrentDayNum.bind(this),this.SetCurrentMonth=this.SetCurrentMonth.bind(this),this.SetCurrentYear=this.SetCurrentYear.bind(this),this.CreateFirstRow=this.CreateFirstRow.bind(this),this.CreateBodyRows=this.CreateBodyRows.bind(this),this.Download=this.Download.bind(this)}),[{key:"AddUsedEvents",value:function(e){for(var t=0;t<e.length;t++){var n=structuredClone(e[t]);this.eventsList.push(n)}}},{key:"SetCurrentDate",value:function(e){this.currentDate=e}},{key:"SetCurrentDayNum",value:function(e){this.currentDayNum=e}},{key:"SetCurrentMonth",value:function(e){this.currentMonth=e}},{key:"SetCurrentYear",value:function(e){this.currentYear=e}},{key:"CreateFirstRow",value:function(){var e,t,n,a,r;this.rows.push((e={currentDate:this.currentDate,currentDayNum:this.currentDayNum,currentMonth:this.currentMonth,currentYear:this.currentYear},t=e.currentDate,n=e.currentDayNum,a=e.currentMonth,r=e.currentYear,[{v:"Расписание ".concat(t," ").concat(O.a[a]," ").concat(r," ").concat(L.b[n]),t:"s",s:{font:{name:"Arial",sz:14,italic:!1,bold:!0},alignment:{horizontal:"center",vertical:"center"}}}]))}},{key:"CreateBodyRows",value:function(){for(var e=0;e<this.eventsList.length;e++){var t=this.eventsList[e],n=(t.cutPart,t.dayNum,t.durationTime),a=t.eventId,r=t.finalNotes,i=(t.firstSegmentId,t.gridEventId,t.id,t.isKeyPoint),s=(t.is_premiere,t.notes,t.pushIt,t.releases),c=t.startTime,o=(t.withOnlyApplications,!0);o=!(s.length>0)||1===s.length;var l=Ca(c,i,o),u=Sa(n,o),d=ja(a,o),m=Ia(!!s[0]&&s[0],r,!s[1]);this.rows.push([l,u,d,m]);for(var f=1;f<s.length;f++){var p={},v={},y={},h={};s[f+1]?(p=Ca(!1,!1,!1),v=Sa(null,!1),y=ja(null,!1),h=Ia(s[f],r,!1)):(p=Ca(!1,!1,!0),v=Sa(null,!0),y=ja(null,!0),h=Ia(s[f],r,!0)),this.rows.push([p,v,y,h])}if(this.eventsList[e+1])0===this.eventsList[e+1].startTime-1-n-c||this.rows.push([{},{},{},{}])}}},{key:"Download",value:function(){this.CreateFirstRow(),this.CreateBodyRows();var e=jn.utils.book_new(),t=jn.utils.aoa_to_sheet(this.rows);t["!cols"]=[{width:9.8},{width:9.8},{width:20},{width:53}],t["!rows"]=[{hpx:30}],t["!merges"]=[jn.utils.decode_range("A1:D1")];var n="".concat(this.currentDate," ").concat(O.a[this.currentMonth]);jn.utils.book_append_sheet(e,t,n);var a,r,i,s,c,o=(a={currentDate:this.currentDate,currentDayNum:this.currentDayNum,currentMonth:this.currentMonth,currentYear:this.currentYear},r=a.currentDate,i=a.currentDayNum,s=a.currentMonth,c=a.currentYear,"Расписание передач - ".concat(r," ").concat(O.a[s]," ").concat(c," ").concat(L.b[i],".xlsx"));jn.writeFile(e,o)}}])}(),La=function(e){var t=e.isOpen,n=(e.setIsOpen,e.scheduleEventsList),i=e.currentDate,s=e.currentDayNum,c=e.currentMonth,o=e.currentYear,l=Object(a.useState)([]),u=f()(l,2),d=u[0],m=u[1];Object(a.useEffect)((function(){if(t){var e=new Ke;e.CreateFromScheduleEventsList(n);var a=e.GetAllUsedEvents();m(function(e){for(var t=[],n=0;n<e.length;n++)t.push({eventId:e[n],isUsed:!1,withOnlyApplications:!0});return t}(a))}else m([])}),[t]);var p=function(e,t){var n=va(d,t,{isUsed:e});m(n)},v=function(e,t){var n=va(d,t,{withOnlyApplications:e});m(n)};return r.a.createElement("div",{className:"S_DExcelComponent"},r.a.createElement("h4",{className:"S_DExcelComponent_header"},"Что включить в экспорт?"),r.a.createElement(Ea,{filterList:d,setFilterList:m,isOpen:t}),r.a.createElement("div",{className:"S_DExcelComponent_listWrap"},r.a.createElement(Je.a,null,d.map((function(e,t){var n=e.eventId,a=e.isUsed,i=e.withOnlyApplications;return r.a.createElement(ha,{key:t,eventId:n,isUsed:a,withOnlyApplications:i,item_change_isUsed:p,item_change_whatTake:v})})))),r.a.createElement("div",{className:"S_DExcelComponent_btn"},r.a.createElement("span",{className:"S_DExcelComponent_icon",style:{backgroundImage:"url( /public/assets/img/Gagarin_icon.jpg )"},onClick:function(){var e=new Ke;e.CreateFromScheduleEventsList(n);var t=function(e,t){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],s=i.isUsed,c=i.eventId,o=i.withOnlyApplications;s&&(a[c]={withOnlyApplications:o})}for(var l=0;l<e.length;l++){var u=e[l].eventId;a[u]&&n.push(Oa(Oa({},e[l]),a[u]))}return n}(e.GetScheduleEventsList(),d),a=new Na;a.AddUsedEvents(t),a.SetCurrentDate(i),a.SetCurrentDayNum(s),a.SetCurrentMonth(c),a.SetCurrentYear(o),a.Download()}},"Поехали")))};function Ta(e){var t=Object(c.c)(b.b);return r.a.createElement(La,E()({},e,{scheduleEventsList:t.scheduleEventsList,currentDate:t.currentDate,currentDayNum:t.currentDayNum,currentMonth:t.currentMonth,currentYear:t.currentYear}))}var Da=function(e){u()(e);var t=Object(a.useState)(!1),n=f()(t,2),i=n[0],s=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt.a,{isOpen:i,setIsOpen:s,title:"Настройки экспорта",width:"40vw",height:"70vh"},r.a.createElement(Ta,{isOpen:i,setIsOpen:s})),r.a.createElement("div",{className:"S_DownloadExcelButton",onClick:function(){s(!0)}},r.a.createElement("span",{className:"icon-download-alt icon"}),r.a.createElement("span",{className:"text"},"Скачать Excel")))};function Pa(e){return r.a.createElement(Da,e)}n(441);var Aa=n(79),wa=function(e){var t=e.scheduleEventsListIsChanged;return r.a.createElement("div",{className:"saveScheduleButton"},r.a.createElement(Aa.a,{isChanged:t,clickHandler:function(){var e,t,n,a,r,i;e=o.a.getState().scheduleResult,t=e.currentDate,e.currentDayNum,n=e.currentMonth,a=e.currentYear,r=e.scheduleEventsList,i=Object(te.a)(a,n,t),o.a.dispatch(Object(ee.c)(!0)),Object(ne.a)({route:"save-schedule-list",data:{YYYY_MM_DD:i,list:r},successCallback:function(e){o.a.dispatch(Object(b.r)(!1)),o.a.dispatch(Object(ee.c)(!1))}})}}))};function Ma(e){var t=Object(c.c)(b.b);return r.a.createElement(wa,E()({},e,{scheduleEventsListIsChanged:t.scheduleEventsListIsChanged}))}n(443);var Ba=function(e){var t=e.infoMessageText,n=e.setInfoMessageText,i=Object(a.useState)(!1),s=f()(i,2),c=s[0],o=s[1],l=Object(a.useState)(""),u=f()(l,2),d=u[0],m=u[1];return Object(a.useEffect)((function(){c||(m(""),n(""))}),[c]),Object(a.useEffect)((function(){if(""!==t.trim())var e=setTimeout((function(){m(t.trim()),o(!0),clearTimeout(e)}),1e3)}),[t]),r.a.createElement("div",{className:"scheduleInfoAlertMessage"},r.a.createElement(mt.a,{isOpen:c,setIsOpen:o,title:"",width:"25vw",height:"20vh"},r.a.createElement(ua.a,{text:d,type:"confirm",continueHandler:function(){o(!1)},cancelHandler:function(){o(!1)},titleContinue:"Продолжить",titlecancel:null})))};function ka(e){var t=Object(c.c)(b.b),n=Object(c.b)();return r.a.createElement(Ba,E()({},e,{infoMessageText:t.infoMessageText,setInfoMessageText:function(e){n(Object(b.l)(e))}}))}var xa=function(e){return u()(e),r.a.createElement(d.a,{className:"airSchedule"},r.a.createElement($,null,r.a.createElement(ka,null),r.a.createElement(V,null,r.a.createElement(M,null),r.a.createElement(ma,null),r.a.createElement("div",{className:"ScheduleTopPanel_right"},r.a.createElement(Ma,null),r.a.createElement(Pa,null))),r.a.createElement(k,null,r.a.createElement(Ve,null,r.a.createElement(G,null),r.a.createElement(Y,null,r.a.createElement(U,null),r.a.createElement(W,null,r.a.createElement(gn,null),r.a.createElement(ca,null))),r.a.createElement(z,null,r.a.createElement("div",null,"exp"))))))};function Ra(e){return r.a.createElement(xa,e)}console.dir("air_schedule"),console.log("HOST_TO_API_SERVER","https://rmh-donetsk.ru");var Ga=document.getElementById("app");Object(i.createRoot)(Ga).render(r.a.createElement(c.a,{store:o.a},r.a.createElement(s.a,null,r.a.createElement(Ra,null))))}]);